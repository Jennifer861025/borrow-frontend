{"version":3,"sources":["screens/AddScreen.js","constants/index.js","contexts/index.js","components/Header.js","screens/HomeScreen.js","screens/BorrowScreen.js","screens/AssistantBorrowScreen.js","screens/AssistantLendedScreen.js","screens/AssistantOverviewScreen.js","screens/AssistantReservedScreen.js","screens/AssistantTodayScreen.js","screens/BorrowRecordScreen.js","screens/EditScreen.js","screens/CertificateScreen.js","screens/ManageScreen.js","screens/LoginScreen.js","screens/PersonalScreen.js","components/Main.js","reducers/appReducer.js","App.js","reportWebVitals.js","index.js"],"names":["nodate","SERVER_URL","actionType","USER_INIT_INFO","USER_SIGNIN_SUCCESS","USER_SIGNIN_FAIL","USER_LOGOUT","ITEM_LIST_REQUEST","ITEM_LIST_SUCCESS","ITEM_LIST_FAIL","ITEM_DETAILS_UPDATE_REQUEST","ITEM_DETAILS_UPDATE_SUCCESS","ITEM_DETAILS_UPDATE_FAIL","RESERVED_ITEMS_REQUEST","RESERVED_GET_ITEMS","RESERVED_ITEMS_FAIL","BORROW_REMOVE_ITEM","DispatchContext","createContext","StateContext","HeaderContext","Header","userInfo","useContext","userSignin","headerContext","dispatch","useEffect","identity","document","querySelector","classList","remove","add","className","to","id","name","onClick","type","today","Date","currentMonth","getMonth","currentYear","getFullYear","currentDay","getDate","HomeScreen","items_key","items_equipment","itemsInfo","isLogin","items","loading","error","setHeaderContext","useState","itemType","setItemType","length","filter","x","a","axios","get","data","payload","message","fetchData","isLended","alreadyBorrowDay","dayCorrect","forEach","element","dateArr","split","toString","aria-hidden","map","item","alreadyBorrowDate","src","image","alt","_id","monthsArr","daysArr","nextMonth","cantBorrowDate","i","getDay","thisDate","push","console","log","clickedDate","e","getAttribute","index","indexOf","splice","showDays","month","year","date","days","firstDay","daysMonth","daysInMonth","j","data-date","data-month","data-year","class_name","currentTarget","showCalendar","weeks","AddScreen","rules","setName","history","useHistory","submitHandler","getElementById","value","replace","post","onChange","target","for","class","dhead","data-days","AssistantBorrowScreen","itemLended","setItemLended","itemArray","setItemArray","lended","AssistantLendedScreen","borrowInfo","borrowItems","borrowLoading","borrowError","returnBorrow","reservedState","borrowId","stuNumber","put","removeUserReserved","alert","number","reservedName","reservedDate","onclick","stuName","reservedReason","stuPhone","getTime","colspan","stuEmail","todayDate","AssistantOverviewScreen","changeState","removeBorrow","AssistantReservedScreen","AssistantTodayScreen","BorrowRecordScreen","props","find","match","params","borrowitem","currentDate","chooseDate","cantChooseDate","datePushArray","preSelect","num","v","findNum","BorrowScreen","setStuPhone","setStuEmail","setReservedReason","setGetTime","itemnull","setItemnull","saveBorrowItem","handleAddToBorrow","Array","from","Set","undefined","rednerCalender","min","max","CertificateScreen","cantChooseCantBorrowDate","cantChooseAlreadyBorrowDate","datePushArray1","ruleString","EditScreen","findAlreadyBorrowDate","findCantBorrowDate","defaultValue","LoginScreen","setNumber","password","setPassword","getBorrowItems","verifyUser","onSubmit","preventDefault","ManageScreen","rule","PersonalScreen","handleToCertificate","Main","path","exact","component","initialAppState","appReducer","state","action","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.189e22bd.chunk.js","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport '../css/add.css';\nimport axios from \"axios\";\n// import Calendar from \"../components/CalendarDay\"\nimport { StateContext, DispatchContext, HeaderContext } from \"../contexts\"\nimport actionType, { SERVER_URL } from \"../constants\";\n\n//-------------------------\nconst today = new Date();\nconst monthsArr = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\nconst daysArr = [\"SUN\", \"MON\", \"TUE\", \"WED\", \"THU\", \"FRI\", \"SAT\"];\nconst currentMonth = today.getMonth();\nconst currentYear = today.getFullYear();\nvar nodate;\nvar nextMonth = currentMonth + 1;\nvar cantBorrowDate = [];\n\nif (currentMonth == 11) {\n    nextMonth = 0;\n}\n\nfor(var i = 1; i<=new Date(currentYear, currentMonth+1, 0).getDate();i++){\n    if(new Date(currentYear, currentMonth, i).getDay() == 6|| new Date(currentYear, currentMonth, i).getDay() == 0){\n      const thisDate = currentYear.toString() + \"-\" + (currentMonth + 1).toString() + \"-\" + i.toString();\n      cantBorrowDate.push(thisDate);\n    }\n}\nfor(var i = 1; i<=new Date(currentYear, nextMonth+1, 0).getDate();i++){\n    if(new Date(currentYear, nextMonth, i).getDay() == 6|| new Date(currentYear, nextMonth, i).getDay() == 0){\n      const thisDate = currentYear.toString() + \"-\" + (nextMonth + 1).toString() + \"-\" + i.toString();\n      cantBorrowDate.push(thisDate);\n    }\n}\nconsole.log(cantBorrowDate);\n\nconst clickedDate = (e) => {\n    if(e.className == \"date-picker\"){\n        e.className = \"date-picker selected\"\n        cantBorrowDate.push(e.getAttribute('data-year') + \"-\" + e.getAttribute('data-month') + \"-\" + e.getAttribute('data-date'));\n    }else{\n        e.className = \"date-picker\"\n        const index = cantBorrowDate.indexOf(e.getAttribute('data-year') + \"-\" + e.getAttribute('data-month') + \"-\" + e.getAttribute('data-date'));\n        if (index !== -1) {\n            cantBorrowDate.splice(index, 1);\n        }\n    }\n    console.log(cantBorrowDate);\n};\n\nfunction daysInMonth(month, year) {\n    return 32 - new Date(year, month, 32).getDate();\n}\n\nfunction showDays(month, year, i){\n    var date = i*7-nodate+1\n    var days = []\n    var firstDay = new Date(year, month).getDay();\n    var daysMonth = daysInMonth(month, year);\n    for(var j = 0; j < 7; j++){\n        if(i === 0 && j < firstDay) {\n            days.push(\n                <td></td>\n            )\n            nodate++;\n        }else if(date > daysMonth){\n            break;\n        }else{\n            const index = cantBorrowDate.indexOf(year.toString() + \"-\" + (month + 1).toString() + \"-\" + date.toString());\n            if (month === currentMonth && date < today.getDate()){\n                days.push(\n                <td data-date={date} data-month={month + 1} data-year={year} className=\"date-picker gray-text\">\n                    <span>{date}</span>\n                </td>\n                )\n            }else{\n                var class_name = \"date-picker\"\n                if (index !== -1) {\n                    class_name = \"date-picker selected\"\n                }\n                days.push(\n                    <td data-date={date} data-month={month + 1} data-year={year} className={class_name} onClick={(e) => clickedDate(e.currentTarget)}>\n                        {/* className={`${state.open ? \"date-picker selected\" : \"date-picker\"}`}> */}\n                        <span>{date}</span>\n                    </td>\n                )\n            }\n            date++\n        }\n    }\n    return(days);\n}\n\nfunction showCalendar(month, year){\n    var weeks = []\n    nodate = 0\n\n    for (var i = 0; i < 6; i++) {\n        weeks.push(\n            <tr>\n                {showDays(month, year, i)}\n            </tr>\n        )\n    }\n    return(weeks);\n}\n//-------------------------\n\nconst AddScreen = () => {\n    const { itemsInfo } = useContext(StateContext);\n    const { loading, error } = itemsInfo;\n    const [headerContext, setHeaderContext] = useContext(HeaderContext);\n    const dispatch = useContext(DispatchContext);\n\n    const [name, setName] = useState(\"\");\n    const history = useHistory();\n    var rules\n\n    useEffect(() => {\n        const changeHeaderTitle = () => {\n            setHeaderContext(\"新增物品\")\n        }\n        changeHeaderTitle()\n    });\n\n    const submitHandler = async () => {\n        console.log(name)\n        // e.preventDefault();\n        dispatch({\n            type: actionType.ITEM_DETAILS_UPDATE_REQUEST\n        });\n        rules = document.getElementById(\"ruleTextarea\").value.replace(/\\r\\n/g,\"\\n\").split(\"\\n\");\n        try {\n            const { data } = await axios.post(SERVER_URL + \"/api/items/add\", {\n                name,\n                type: \"equipment\",\n                cantBorrowDate,\n                rules\n            });\n            dispatch({ type: actionType.ITEM_DETAILS_UPDATE_SUCCESS, payload: data });\n            //   Cookie.set(\"userInfo\", JSON.stringify(data));\n            history.push(\"/AssistantBorrow/\")\n        } catch (error) {\n            dispatch({\n                type: actionType.ITEM_DETAILS_UPDATE_FAIL,\n                payload: error.message,\n            });\n        }\n    }\n\n    return (\n        <div className=\"add-content\">\n            <div className=\"photoArea\">\n                <div className=\"icon-btn-S plusBtn\">\n                    <i className=\"fa fa-plus\" aria-hidden=\"true\"></i>\n                </div>\n                <div className=\"title\">新增圖片</div>\n            </div>\n            <div className=\"detailArea\">\n                <div className=\"descriptionArea\">\n                    <input className=\"item-name-input\" type=\"text\" onChange={(e) => setName(e.target.value)}></input>\n                    <div className=\"line\"></div>\n                    <div className=\"rule\">\n                        <label for=\"\">租借規範</label>\n                        <textarea id=\"ruleTextarea\"></textarea>\n                    </div>\n                </div>\n                <div className=\"calendarArea\">\n                    <div class=\"container-calendar\">\n                        <div class=\"button-container-calendar\">\n                            <p id=\"monthHeader\">{monthsArr[currentMonth]}</p>\n                        </div>\n\n                        <table class=\"table-calendar\" id=\"calendar\">\n                            <thead id=\"thead-month\">\n                                <tr>\n                                    {daysArr.map((dhead) => (\n                                        <th data-days={dhead}>{dhead}</th>\n                                    ))}\n                                </tr>\n                            </thead>\n                            <tbody id=\"calendar-body\">\n                                {showCalendar(currentMonth, currentYear)}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <div className=\"calendarArea\">\n                    <div class=\"container-calendar\">\n                        <div class=\"button-container-calendar\">\n                            <p id=\"monthHeader\">{monthsArr[nextMonth]}</p>\n                        </div>\n\n                        <table class=\"table-calendar\" id=\"calendar\">\n                            <thead id=\"thead-month\">\n                                <tr>\n                                    {daysArr.map((dhead) => (\n                                        <th data-days={dhead}>{dhead}</th>\n                                    ))}\n                                </tr>\n                            </thead>\n                            <tbody id=\"calendar-body\">\n                                {showCalendar(currentMonth + 1, currentYear)}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <div className=\"btnArea\">\n                <Link to=\"/AssistantBorrow\">\n                        <button className=\"secondary-btn-M\">取消</button>\n                    </Link>\n                    <button className=\"primary-btn-M-O\" onClick={submitHandler}>確定</button>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default AddScreen;","const actionType = {\n    //SignIn Actions\n    USER_INIT_INFO: \"USER_INIT_INFO\",\n    USER_SIGNIN_SUCCESS: \"USER_SIGNIN_SUCCESS\",\n    USER_SIGNIN_FAIL: \"USER_SIGNIN_FAIL\",\n    USER_LOGOUT: \"USER_LOGOUT\",\n// USER_UPDATE_RESERVED: \"USER_UPDATE_RESERVED\",\n\n    //Item Actions\n    ITEM_LIST_REQUEST: \"ITEM_LIST_REQUEST\",\n    ITEM_LIST_SUCCESS: \"ITEM_LIST_SUCCESS\",\n    ITEM_LIST_FAIL: \"ITEM_LIST_FAIL\",\n    ITEM_DETAILS_UPDATE_REQUEST: \"ITEM_DETAILS_UPDATE_REQUEST\",\n    ITEM_DETAILS_UPDATE_SUCCESS: \"ITEM_DETAILS_UPDATE_SUCCESS\",\n    ITEM_DETAILS_UPDATE_FAIL: \"ITEM_DETAILS_UPDATE_FAIL\",\n\n    //Reserved Actions\n    RESERVED_ITEMS_REQUEST:\"RESERVED_ITEMS_REQUEST\",\n    RESERVED_GET_ITEMS:\"RESERVED_GET_ITEMS\",\n    RESERVED_ITEMS_FAIL:\"RESERVED_ITEMS_FAIL\",\n// RESERVED_ADD_ITEM:\"RESERVED_ADD_ITEM\",\n\n// BORROW_ADD_ITEM : \"BORROW_ADD_ITEM\",\n    BORROW_REMOVE_ITEM: \"BORROW_REMOVE_ITEM\",\n};\n\nexport const SERVER_URL = \"https://borrow-backend.herokuapp.com\";\nexport default actionType;\n","import { createContext } from \"react\";\n\nconst DispatchContext = createContext();\nconst StateContext = createContext();\nconst HeaderContext = createContext();\n\nexport { DispatchContext, StateContext, HeaderContext}","import React, { useEffect, useContext, useReducer, useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { StateContext, DispatchContext, HeaderContext } from \"../contexts\";\nimport actionType from \"../constants\";\n\nconst Header = () => {\n    const { userSignin } = useContext(StateContext);\n    const { userInfo } = userSignin;\n    const [headerContext , setHeaderContext] = useContext(HeaderContext);\n    const dispatch = useContext(DispatchContext);\n\n    const personLogin=()=> {\n        if (userInfo.identity ===\"student\") {\n            document.querySelector(\"#student\").classList.remove(\"display-none\");\n            document.querySelector(\"#login\").classList.add(\"display-none\");\n            document.querySelector(\"#teacher\").classList.add(\"display-none\");\n        }\n        else if(userInfo.identity ===\"teacher\"){\n            document.querySelector(\"#student\").classList.add(\"display-none\");\n            document.querySelector(\"#login\").classList.add(\"display-none\");\n            document.querySelector(\"#teacher\").classList.remove(\"display-none\");\n        }\n        else{\n            document.querySelector(\"#teacher\").classList.add(\"display-none\");\n            document.querySelector(\"#student\").classList.add(\"display-none\");\n            document.querySelector(\"#login\").classList.remove(\"display-none\");\n        }\n    }\n\n    useEffect(() => {\n        personLogin();\n    }, [userInfo.identity]);\n\n    return (\n        <header className=\"header\">\n            <Link to={userInfo.identity === \"teacher\" ? \"/AssistantOverview\" : \"/\"}>\n                <div className=\"header-title\">\n                    <div className=\"dtd\">數位科技設計學系｜</div>\n                    <div className=\"page_name\">{headerContext}</div>\n                </div>\n            </Link>\n            <div className=\"header-login display-none\" id=\"student\">\n                <Link to=\"/Personal\">{userInfo.name}</Link>\n            </div>\n\n            <div className=\"header-login display-none\" id=\"teacher\">\n                <Link to=\"/Login\" onClick={()=>dispatch({type:actionType.USER_LOGOUT})}>{userInfo.name+\"登出\"}</Link>\n            </div>\n\n            <div className=\"header-login\" id=\"login\">\n                <Link to={\"/Login\"}>會員登入</Link>\n            </div>\n        </header>\n    );\n}\n\nexport default Header;\n","import React, { useEffect, useContext, useState } from 'react';\n// import items from '../json/items.json'\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport { StateContext, DispatchContext, HeaderContext } from \"../contexts\";\nimport actionType, { SERVER_URL } from \"../constants\";\nimport '../index.css'\n\nconst today = new Date();\nconst currentMonth = today.getMonth();\nconst currentYear = today.getFullYear();\nconst currentDay = today.getDate();\n\nconst HomeScreen = () => {\n  const { userSignin, itemsInfo } = useContext(StateContext);\n  const { isLogin } = userSignin;\n  const { items, loading, error } = itemsInfo;\n  const dispatch = useContext(DispatchContext);\n  const [headerContext, setHeaderContext] = useContext(HeaderContext);\n  const [itemType, setItemType] = useState(items);\n\n  var items_key;\n  var items_equipment;\n\n  if (items.length != 0 && items) {\n    items_key = (items || []).filter((x) => x.type === \"key\");\n    items_equipment = (items || []).filter((x) => x.type === \"equipment\");\n  }\n\n  useEffect(() => {\n    const changeHeaderTitle = () => {\n      setHeaderContext(\"借用物品\")\n    }\n    changeHeaderTitle()\n  });\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        dispatch({ type: actionType.ITEM_LIST_REQUEST });\n        const { data } = await axios.get(SERVER_URL + \"/api/items\");\n        dispatch({ type: actionType.ITEM_LIST_SUCCESS, payload: data });\n      } catch (error) {\n        dispatch({\n          type: actionType.ITEM_LIST_FAIL,\n          payload: error.message,\n        });\n      }\n    }\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    // console.log(items);\n    items_key = (items || []).filter((x) => x.type === \"key\");\n    items_equipment = (items || []).filter((x) => x.type === \"equipment\");\n    if (items.length != 0 && items) {\n      setItemType(items);\n    }\n  }, [items]);\n\n  const isLended = (alreadyBorrowDay) => {\n    var dayCorrect = false;\n    if (alreadyBorrowDay != []) {\n      alreadyBorrowDay.forEach(element => {\n        var dateArr = element.split(\"-\");\n        if (dateArr[0] === currentYear.toString() && dateArr[1] === (currentMonth + 1).toString() && dateArr[2]=== currentDay.toString()) {\n          dayCorrect = true\n        } \n      });\n      if(dayCorrect === true){\n        return true;\n      }\n      else{\n        return false;\n      }\n    }\n    else {\n      return false;\n    }\n  }\n\n  const itemAllOnclick = () => {\n    document.querySelector(\"#all\").classList.add(\"select\");\n    document.querySelector(\"#key\").classList.remove(\"select\");\n    document.querySelector(\"#equipment\").classList.remove(\"select\");\n    setItemType(items);\n  }\n  const itemKeyOnclick = () => {\n    document.querySelector(\"#key\").classList.add(\"select\");\n    document.querySelector(\"#all\").classList.remove(\"select\");\n    document.querySelector(\"#equipment\").classList.remove(\"select\");\n    setItemType(items_key);\n  }\n  const itemEquipmentOnclick = () => {\n    document.querySelector(\"#equipment\").classList.add(\"select\");\n    document.querySelector(\"#key\").classList.remove(\"select\");\n    document.querySelector(\"#all\").classList.remove(\"select\");\n    setItemType(items_equipment);\n  }\n\n  return (\n    <div className=\"content\">\n      <aside className=\"sidebar\">\n        <ul>\n          <li>\n            <button className=\"sideBar-btn select\" id=\"all\" onClick={itemAllOnclick}>\n              <i className=\"fa fa-th-large\" aria-hidden=\"true\"></i>\n                  所有物品\n                </button>\n          </li>\n          <li>\n            <button className=\"sideBar-btn\" id=\"key\" onClick={itemKeyOnclick}>\n              <i className=\"fa fa-key\" aria-hidden=\"true\"></i>\n                  教室鑰匙\n                </button>\n          </li>\n          <li>\n            <button className=\"sideBar-btn\" id=\"equipment\" onClick={itemEquipmentOnclick}>\n              <i className=\"fa fa-plug\" aria-hidden=\"true\"></i>\n                  器材\n                </button>\n          </li>\n        </ul>\n      </aside>\n\n      {loading ? (\n        // <LoadingBox></LoadingBox>\n        <div>loading</div>\n      ) : error ? (\n        // <MessageBox variant=\"danger\">{error}</MessageBox>\n        <div>{error}</div>\n      ) : (\n            <div className=\"items\">\n              {itemType.map((item) => (\n                <div key={item._id} className=\"item\">\n                  <div className={`${isLended(item.alreadyBorrowDate) ? \"label\" : \"label display-none\"}`}>\n                    <div className=\"label-p\">本日已借用</div>\n                  </div>\n                  <div className=\"item-box\">\n                    <div className=\"item-photo\">\n                      <img src={\"../\" + item.image} alt=\"\" className=\"item-photo-img\"></img>\n                    </div>\n                    <div className=\"item-name\">{item.name}</div>\n                    <Link to={isLogin === false ? \"/Login\" : \"/Borrow/\" + item._id}><button className=\"primary-btn-L item-borrowBtn\">借用物品</button></Link>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n\n    </div>\n  );\n}\n\nexport default HomeScreen;","import React, { useEffect, useState, useContext } from 'react';\nimport { Link } from \"react-router-dom\";\n// import items from '../json/items.json'\nimport axios from \"axios\";\n// import Calendar from \"../components/CalendarDay_single\"\nimport { StateContext, DispatchContext, HeaderContext } from \"../contexts\"\nimport actionType, { SERVER_URL } from \"../constants\";\nimport '../css/borrow.css'\n\n//----------------------\nconst today = new Date();\nconst monthsArr = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\nconst daysArr = [\"SUN\", \"MON\", \"TUE\", \"WED\", \"THU\", \"FRI\", \"SAT\"];\nconst currentMonth = today.getMonth();\nconst currentYear = today.getFullYear();\nconst currentDate = today.getDate();\nvar chooseDate = \"\";\nvar nodate;\nvar cantChooseDate = [];\nvar datePushArray = [];\n\nconst clickedDate = (e) => {\n    var preSelect = document.querySelector(\".date-picker.selected\");\n    if (preSelect) {\n        preSelect.className = \"date-picker\";\n        e.className = \"date-picker selected\";\n    } else {\n        e.className = \"date-picker selected\";\n    }\n    chooseDate = currentYear.toString() + \"-\" + (currentMonth + 1).toString() + \"-\" + e.getAttribute('value');\n};\n\nfunction daysInMonth(month, year) {\n    return 32 - new Date(year, month, 32).getDate();\n}\n\nfunction showDays(month, year, i) {\n\n    var date = i * 7 - nodate + 1\n    var days = []\n    var firstDay = new Date(year, month).getDay();\n    var daysMonth = daysInMonth(month, year);\n    for (var j = 0; j < 7; j++) {\n        if (i === 0 && j < firstDay) {\n            days.push(\n                <td></td>\n            )\n            nodate++;\n        } else if (date > daysMonth) {\n            break;\n        } else {\n            function findNum(num) {\n                for (var v = 0; v < cantChooseDate.length; v++) {\n                    if (num.toString() === cantChooseDate[v]) {\n                        return true;\n                    }\n                }\n            }\n            if (findNum(date) === true || date < currentDate) {\n                days.push(\n                    <td value={date} className=\"date-picker gray-text\">\n                        {/* className={`${state.open ? \"date-picker selected\" : \"date-picker\"}`}> */}\n                        <span>{date}</span>\n                    </td>\n                )\n            }\n            else {\n                days.push(\n                    <td value={date} className=\"date-picker\" onClick={(e) => clickedDate(e.currentTarget)}>\n                        {/* className={`${state.open ? \"date-picker selected\" : \"date-picker\"}`}> */}\n                        <span>{date}</span>\n                    </td>\n                )\n            }\n            date++\n        }\n    }\n    return (days);\n}\n\n\n//----------------------\n\nconst BorrowScreen = (props) => {\n    const { itemsInfo, userSignin } = useContext(StateContext);\n    const { userInfo } = userSignin;\n    const { items, loading, error } = itemsInfo;\n    const { name, number } = userInfo;\n    const dispatch = useContext(DispatchContext);\n\n    var item = {};\n    // var selectedIndex = -1;\n    const [stuPhone, setStuPhone] = useState(\"\");\n    const [stuEmail, setStuEmail] = useState(\"\");\n    const [reservedReason, setReservedReason] = useState(\"\");\n    const [getTime, setGetTime] = useState(\"\");\n    const [itemnull, setItemnull] = useState(true);\n\n    if (items.length != 0 && items) {\n        item = items.find(\n            (x) => x._id === props.match.params.id\n        );\n    }\n    function showCalendar(month, year) {\n        if (itemnull === false) {\n            var weeks = []\n            nodate = 0\n            for (var i = 0; i < 6; i++) {\n                weeks.push(\n                    <tr>\n                        {showDays(month, year, i)}\n                    </tr>\n                )\n            }\n            return (weeks);\n        }\n\n    }\n\n    const saveBorrowItem = async () => {\n        try {\n            const { data } = await axios.post(SERVER_URL + \"/api/reserved/add\", {\n                name: item.name,\n                image: item.image,\n                stuName: name,\n                stuNumber: number,\n                stuPhone,\n                stuEmail,\n                reservedDate: chooseDate,\n                reservedReason,\n                getTime\n            });\n            // dispatch({ type: actionType.RESERVED_ADD_ITEM, payload: data });\n            //   Cookie.set(\"userInfo\", JSON.stringify(data));\n            props.history.push(\"/Personal\");\n        } catch (error) {\n            alert(error);\n        }\n    }\n\n    const handleAddToBorrow = async () => {\n        //selectReason()\n        console.log(reservedReason);\n        //if (selectedIndex >= 0) {\n        if (reservedReason.length > 0) {\n            if (getTime.length > 0) {\n                try {\n                    const { data } = await axios.put(SERVER_URL + \"/api/users/addReserved\", {\n                        number,\n                        reservedName: item.name,\n                        reservedDate: chooseDate\n                    });\n                    await axios.put(SERVER_URL + \"/api/items/\" + props.match.params.id + \"/addAlreadyBorrowDate\", {\n                        alreadyBorrowDate: chooseDate\n                    });\n                    // dispatch({ type: actionType.USER_UPDATE_RESERVED, payload: data });\n                    //   Cookie.set(\"userInfo\", JSON.stringify(data));\n                    saveBorrowItem();\n                } catch (error) {\n                    alert(error);\n                }\n            } else {\n                alert(\"沒有選擇拿取時間\");\n            }\n        } else {\n            alert(\"沒有輸入租借理由\");\n        }\n    }\n    // else {\n    //     alert(\"沒有選擇租借理由\");\n    // }\n\n    const [headerContext, setHeaderContext] = useContext(HeaderContext);\n    useEffect(() => {\n        const changeHeaderTitle = () => {\n            setHeaderContext(\"借用物品\");\n        }\n        changeHeaderTitle()\n    });\n\n    // useEffect(()=>{\n    //     handleAddToBorrow();\n    // },[reservedReason]);\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                dispatch({ type: actionType.ITEM_LIST_REQUEST });\n                const { data } = await axios.get(SERVER_URL + \"/api/items\");\n                dispatch({ type: actionType.ITEM_LIST_SUCCESS, payload: data });\n            } catch (error) {\n                dispatch({\n                    type: actionType.ITEM_LIST_FAIL,\n                    payload: error.message,\n                });\n            }\n        }\n        fetchData();\n    }, []);\n\n    useEffect(() => {\n        if (items.length != 0 && items) {\n            item = items.find(\n                (x) => x._id === props.match.params.id\n            );\n        }\n    }, [items]);\n\n    useEffect(() => {\n        cantChooseDate = [];\n        datePushArray = [];\n        console.log(\"xxx=\" + cantChooseDate);\n        console.log(item.alreadyBorrowDate);\n        console.log(item)\n        \n        if (itemnull === false) {\n            if (item.cantBorrowDate!=null && item.cantBorrowDate.length > 0) {\n                item.cantBorrowDate.forEach(element => {\n                    var dateArr = element.split(\"-\");\n                    if (dateArr[0] === currentYear.toString() && dateArr[1] === (currentMonth + 1).toString()) {\n                        datePushArray.push(dateArr[2]);\n                        cantChooseDate = Array.from(new Set(datePushArray));\n                    }\n                });\n            }\n            if (item.alreadyBorrowDate!=null && item.alreadyBorrowDate.length > 0) {\n                item.alreadyBorrowDate.forEach(element => {\n                    var dateArr = element.split(\"-\");\n                    if (dateArr[0] === currentYear.toString() && dateArr[1] === (currentMonth + 1).toString()) {\n                        datePushArray.push(dateArr[2]);\n                        cantChooseDate = Array.from(new Set(datePushArray));\n                    }\n                });\n            }\n        }\n    }, [item, itemnull]);\n\n    useEffect(() => {\n        if (item != null && item._id != undefined) {\n            setItemnull(false);\n        }\n        else {\n            setItemnull(true);\n        }\n    }, [item]);\n\n    const rednerCalender = () => {\n        if (itemnull === false) {\n            return (\n                showCalendar(currentMonth, currentYear)\n            )\n        }\n        else{\n            <div>loading</div>\n        }\n\n    }\n\n    return (\n        <div>\n            {loading ? (\n                // <LoadingBox></LoadingBox>\n                <div> loading</div >\n            ) : error ? (\n                // <MessageBox variant=\"danger\">{error}</MessageBox>\n                <div>{error}</div>\n            ) : (\n                        <div className=\"borrowContent\">\n                            <div className=\"photoArea\">\n                                <div className=\"largePhoto\">\n                                    <img src={\"../\" + item.image} alt=\"\"></img>\n                                </div>\n                                <div className=\"threeSmallPhoto\">\n                                    <div className=\"smallPhoto\">\n                                        <img src={\"../\" + item.image} alt=\"\"></img>\n                                    </div>\n                                    <div className=\"smallPhoto\">\n                                        <img src={\"../\" + item.image} alt=\"\"></img>\n                                    </div>\n                                    <div className=\"smallPhoto\">\n                                        <img src={\"../\" + item.image} alt=\"\"></img>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"detailArea\">\n                                <div className=\"descriptionArea\">\n                                    <label className=\"item-name\" for=\"\">{item.name}</label>\n                                    <div className=\"line\"></div>\n                                    <div className=\"rule\">\n                                        <label for=\"\">租借規範</label>\n                                        <p>＊教室不能吃東西<br></br>＊務必在16:30 之前歸還鑰匙</p>\n                                    </div>\n                                </div>\n                                <div className=\"reserved_area\">\n                                    <label className=\"item-name\" for=\"\">輸入借用資訊</label>\n                                    <div className=\"line\"></div>\n                                    <div className=\"reserved_form\">\n                                        <div className=\"reserved_row\">\n                                            <label for=\"\" className=\"reserved_label\">手機</label>\n                                            <input type=\"tel\" name=\"\" id=\"\" className=\"reserved_input\" onChange={(e) => setStuPhone(e.target.value)}></input>\n                                        </div>\n                                        <div className=\"reserved_row\">\n                                            <label for=\"\" className=\"reserved_label\">E-mail</label>\n                                            <input type=\"email\" name=\"\" id=\"\" className=\"reserved_input\" onChange={(e) => setStuEmail(e.target.value)}></input>\n                                        </div>\n                                        <div className=\"reserved_row\">\n                                            <label for=\"\" className=\"reserved_label\">借用理由</label>\n                                            <div className=\"reason_option\">\n                                                <label><input type=\"radio\" name=\"reason\" id=\"\" onClick={() => setReservedReason(\"系上活動需要\")}></input>系上活動需要</label>\n                                                <label><input type=\"radio\" name=\"reason\" id=\"\" onClick={() => setReservedReason(\"系學會需要\")}></input>系學會需要</label>\n                                                <label><input type=\"radio\" name=\"reason\" id=\"\" onClick={() => setReservedReason(\"系上課程需要\")}></input>系上課程需要</label>\n                                                <label><input type=\"radio\" name=\"reason\" id=\"\" onClick={() => setReservedReason(\"系上球隊需要\")}></input>系上球隊需要</label>\n                                                <label><input type=\"radio\" name=\"reason\" id=\"\" onClick={() => setReservedReason(\"系上社團需要\")}></input>系上社團需要</label>\n                                                <label><input type=\"radio\" name=\"reason\" id=\"\"></input>其他 <input type=\"text\" className=\"reserved_input\" onChange={(e) => setReservedReason(e.target.value)}></input></label>\n                                            </div>\n                                        </div>\n                                        <div>\n                                            <label for=\"\" className=\"reserved_label\">借用日期</label>\n                                            <div className=\"calendarArea\">\n                                                <div class=\"container-calendar\">\n                                                    <div class=\"button-container-calendar\">\n                                                        <p id=\"monthHeader\">{monthsArr[currentMonth]}</p>\n                                                    </div>\n\n                                                    <table class=\"table-calendar\" id=\"calendar\">\n                                                        <thead id=\"thead-month\">\n                                                            <tr>\n                                                                {daysArr.map((dhead) => (\n                                                                    <th data-days={dhead}>{dhead}</th>\n                                                                ))}\n                                                            </tr>\n                                                        </thead>\n                                                        <tbody id=\"calendar-body\">\n                                                            {/* {showCalendar(currentMonth, currentYear)} */}\n                                                            {rednerCalender()}\n                                                        </tbody>\n                                                    </table>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"reserved_row\">\n                                            <label for=\"\" className=\"reserved_label\">拿取時間</label>\n                                            <input type=\"time\" name=\"\" id=\"\" min=\"09:00\" max=\"17:00\" onChange={(e) => setGetTime(e.target.value)}></input>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"btnArea\">\n                                    <Link to={\"/\"}>\n                                        <button className=\"secondary-btn-M\">取消</button>\n                                    </Link>\n                                    <button type=\"submit\" className=\"primary-btn-M-O\" onClick={handleAddToBorrow}>確定</button>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n        </div>\n    );\n}\n\nexport default BorrowScreen;","import React, { useEffect, useState, useContext } from 'react';\nimport { Link } from \"react-router-dom\";\n// import items from '../json/items.json'\nimport axios from \"axios\";\n\nimport { StateContext, DispatchContext, HeaderContext } from \"../contexts\"\nimport actionType, { SERVER_URL } from \"../constants\";\nimport '../css/assistant_borrow.css'\n\nconst AssistantBorrowScreen = () => {\n    const [headerContext, setHeaderContext] = useContext(HeaderContext);\n    const { itemsInfo } = useContext(StateContext);\n    const { items, loading, error } = itemsInfo;\n    const dispatch = useContext(DispatchContext);\n    const [itemType, setItemType] = useState(items);\n    const [itemLended, setItemLended] = useState(null);\n    const [itemArray, setItemArray] = useState(items);\n\n    var items_key;\n    var items_equipment;\n\n    if (items.length != 0 && items) {\n        items_key = (items || []).filter((x) => x.type === \"key\");\n        items_equipment = (items || []).filter((x) => x.type === \"equipment\");\n    }\n\n    // changeHeaderTitle\n    useEffect(() => {\n        const changeHeaderTitle = () => {\n            setHeaderContext(\"管理物品\")\n        }\n        changeHeaderTitle()\n    });\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                dispatch({ type: actionType.ITEM_LIST_REQUEST });\n                const { data } = await axios.get(SERVER_URL + \"/api/items\");\n                dispatch({ type: actionType.ITEM_LIST_SUCCESS, payload: data });\n            } catch (error) {\n                dispatch({\n                    type: actionType.ITEM_LIST_FAIL,\n                    payload: error.message,\n                });\n            }\n        }\n        fetchData();\n    }, []);\n\n    useEffect(() => {\n        // console.log(items);\n        items_key = (items || []).filter((x) => x.type === \"key\");\n        items_equipment = (items || []).filter((x) => x.type === \"equipment\");\n        if (items.length != 0 && items) {\n            setItemType(items);\n        }\n    }, [items]);\n\n    useEffect(() => {\n        if (itemLended === null) {\n            setItemArray(itemType)\n        }\n        else {\n            setItemArray(itemType.filter((x) => x.lended === itemLended));\n        }\n    }, [itemType, itemLended]);\n\n    // select itemType\n    //  const items_key = items.filter((x) => x.type === \"key\");\n    //  const items_equipment = items.filter((x) => x.type === \"equipment\");\n    // const items_lended = itemType.filter((x) => x.lended === true);\n    // const items_notLended = itemType.filter((x) => x.lended === false);\n\n    // asideBtn OnClick\n    const itemAllOnclick = () => {\n        document.querySelector(\"#all\").classList.add(\"select\");\n        document.querySelector(\"#key\").classList.remove(\"select\");\n        document.querySelector(\"#equipment\").classList.remove(\"select\");\n        setItemType(items);\n    }\n    const itemKeyOnclick = () => {\n        document.querySelector(\"#key\").classList.add(\"select\");\n        document.querySelector(\"#all\").classList.remove(\"select\");\n        document.querySelector(\"#equipment\").classList.remove(\"select\");\n        setItemType(items_key);\n    }\n    const itemEquipmentOnclick = () => {\n        document.querySelector(\"#equipment\").classList.add(\"select\");\n        document.querySelector(\"#key\").classList.remove(\"select\");\n        document.querySelector(\"#all\").classList.remove(\"select\");\n        setItemType(items_equipment);\n    }\n\n    const allItemOnclick = () => {\n        document.querySelector(\"#allItem\").classList.add(\"select\");\n        document.querySelector(\"#lended\").classList.remove(\"select\");\n        document.querySelector(\"#notLended\").classList.remove(\"select\");\n        setItemLended(null);\n    }\n    const lendedOnclick = () => {\n        document.querySelector(\"#lended\").classList.add(\"select\");\n        document.querySelector(\"#allItem\").classList.remove(\"select\");\n        document.querySelector(\"#notLended\").classList.remove(\"select\");\n        setItemLended(true);\n    }\n\n    const notLendedOnclick = () => {\n        document.querySelector(\"#notLended\").classList.add(\"select\");\n        document.querySelector(\"#allItem\").classList.remove(\"select\");\n        document.querySelector(\"#lended\").classList.remove(\"select\");\n        setItemLended(false);\n    }\n\n\n    return (\n        <div>\n            <Link to={\"/Add\"}>\n                <div className=\"icon-btn-L assistant_borrow_plusBtn\">\n                    <i className=\"fa fa-plus\" aria-hidden=\"true\"></i>\n                </div>\n            </Link>\n            <div className=\"assistant_borrow-content\">\n                <aside className=\"sidebar\">\n                    <ul>\n                        <li>\n                            <button className=\"sideBar-btn select\" id=\"all\" onClick={itemAllOnclick}>\n                                <i className=\"fa fa-th-large\" aria-hidden=\"true\"></i>\n                                所有物品\n                            </button>\n                        </li>\n                        <li>\n                            <button className=\"sideBar-btn\" id=\"key\" onClick={itemKeyOnclick}>\n                                <i className=\"fa fa-key\" aria-hidden=\"true\"></i>\n                                教室鑰匙\n                            </button>\n                        </li>\n                        <li>\n                            <button className=\"sideBar-btn\" id=\"equipment\" onClick={itemEquipmentOnclick}>\n                                <i className=\"fa fa-plug\" aria-hidden=\"true\"></i>\n                                器材\n                            </button>\n                        </li>\n                    </ul>\n                    <div>\n                        <hr />\n                        <Link to={\"/AssistantOverview\"}>\n                            <button className=\"sideBar-btn\">\n                                <i className=\"fa fa-calendar-o\" aria-hidden=\"true\"></i>\n                                今日預約\n                            </button>\n                        </Link>\n                    </div>\n                </aside>\n                <div className=\"assistant_borrowContent\">\n                    <div className=\"borrow-filter\">\n                        <button className=\"filter-btn select\" id=\"allItem\" onClick={allItemOnclick}>\n                            全部\n                        </button>\n                        <button className=\"filter-btn\" id=\"lended\" onClick={lendedOnclick}>\n                            已借出\n                        </button>\n                        <button className=\"filter-btn\" id=\"notLended\" onClick={notLendedOnclick}>\n                            未借出\n                        </button>\n                    </div>\n\n                    {loading ? (\n                        // <LoadingBox></LoadingBox>\n                        <div>loading</div>\n                    ) : error ? (\n                        // <MessageBox variant=\"danger\">{error}</MessageBox>\n                        <div>{error}</div>\n                    ) : (\n                                <div className=\"items\">\n                                    {itemArray.map((item) => (\n                                        <div className=\"item\">\n                                            <div className=\"item-box\">\n                                                <div className=\"item-photo\">\n                                                    <img src={\"../\" + item.image} alt=\"\" className=\"item-photo-img\"></img>\n                                                </div>\n                                                <div className=\"item-name\">{item.name}</div>\n                                                <Link to={\"/Manage/\" + item._id}><button className=\"primary-btn-L-B\">管理</button></Link>\n                                            </div>\n                                        </div>\n                                    ))}\n\n                                </div>\n                            )}\n                </div>\n\n            </div>\n        </div>\n\n    );\n}\n\nexport default AssistantBorrowScreen;","import React, { useEffect, useState, useContext } from 'react';\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport { StateContext, DispatchContext, HeaderContext } from \"../contexts\"\nimport actionType, { SERVER_URL } from \"../constants\";\nimport '../css/assistant_today.css'\n\nconst AssistantLendedScreen = () => {\n    const { borrowInfo } = useContext(StateContext);\n    const { borrowItems, borrowLoading, borrowError } = borrowInfo;\n    const [headerContext, setHeaderContext] = useContext(HeaderContext);\n    const dispatch = useContext(DispatchContext);\n\n    useEffect(() => {\n        const changeHeaderTitle = () => {\n            setHeaderContext(\"物品總覽-已借出\")\n        }\n        changeHeaderTitle()\n    });\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                dispatch({ type: actionType.RESERVED_ITEMS_REQUEST });\n                const { data } = await axios.get(SERVER_URL + \"/api/reserved/lended\");\n                dispatch({ type: actionType.RESERVED_GET_ITEMS, payload: data });\n            } catch (error) {\n                dispatch({\n                    type: actionType.RESERVED_ITEMS_FAIL,\n                    payload: error.message,\n                });\n            }\n        }\n        fetchData();\n    }, []);\n\n    const returnBorrow = async (reservedState, borrowId, name, alreadyBorrowDate, stuNumber) => {\n        dispatch({ type: actionType.BORROW_REMOVE_ITEM, payload: borrowId });\n        try {\n            await axios.put(SERVER_URL + \"/api/reserved/\" + borrowId + \"/changeState\", {\n                reservedState\n            });\n            const { data } = await axios.put(SERVER_URL + \"/api/items/findItem\", {\n                name\n            });\n            await axios.put(SERVER_URL + \"/api/items/\" + data._id + \"/removeAlreadyBorrowDate\", {\n                alreadyBorrowDate\n            });\n            removeUserReserved(stuNumber, name, alreadyBorrowDate);\n        } catch (error) {\n            alert(error);\n        }\n    };\n\n    const removeUserReserved = async (number, reservedName, reservedDate) => {\n        try {\n            await axios.put(SERVER_URL + \"/api/users/deleteReserved\", {\n                number,\n                reservedName,\n                reservedDate\n            });\n            // dispatch({ type: actionType.USER_UPDATE_RESERVED, payload: data });\n            // console.log(data);\n        } catch (error) {\n            alert(error);\n        }\n    };\n\n    return (\n        <div className=\"assistant_today-content\">\n            <aside className=\"sidebar\">\n                <ul>\n                    <li>\n                        <Link to={\"/AssistantOverview\"}>\n                            <button className=\"sideBar-btn\" onclick=\"SideBar(event)\">\n                                <i className=\"fa fa-align-justify\" aria-hidden=\"true\"></i>\n                                總覽\n                            </button>\n                        </Link>\n                    </li>\n                    <li>\n                        <Link to={\"/AssistantToday\"}>\n                            <button className=\"sideBar-btn\" onclick=\"SideBar(event)\">\n                                <i className=\"fa fa-calendar-o\" aria-hidden=\"true\"></i>\n                                今日預約\n                            </button>\n                        </Link>\n                    </li>\n                    <li>\n                        <Link to={\"/AssistantReserved\"}>\n                            <button className=\"sideBar-btn\" onclick=\"SideBar(event)\">\n                                <i className=\"fa fa-clock-o\" aria-hidden=\"true\"></i>\n                                已預約\n                                </button>\n                        </Link>\n                    </li>\n                    <li>\n                        <Link to={\"/AssistantLended\"}>\n                            <button className=\"sideBar-btn select\" onclick=\"SideBar(event)\">\n                                <i className=\"fa fa-sign-out\" aria-hidden=\"true\"></i>\n                                已借出\n                            </button>\n                        </Link>\n                    </li>\n                </ul>\n                <div>\n                    <hr />\n                    <Link to={\"/AssistantBorrow\"}>\n                        <button className=\"sideBar-btn\">\n                            <i className=\"fa fa-cog\" aria-hidden=\"true\"></i>\n                            管理物品\n                            </button>\n                    </Link>\n                </div>\n            </aside>\n            {borrowLoading ? (\n                // <LoadingBox></LoadingBox>\n                <div>loading</div>\n            ) : borrowError ? (\n                // <MessageBox variant=\"danger\">{error}</MessageBox>\n                <div>{borrowError}</div>\n            ) : (\n                        <div className=\"today_content\">\n                            {borrowItems.length === 0 ? (\n                                <div className=\"personal-borrowRecord-none\"><i class=\"fa fa-history\" aria-hidden=\"true\"></i><p>尚未有借用預約</p></div>\n                            ) : (\n                                    borrowItems.map((item, index) => (\n                                        <div>\n                                            { (index == 0 || (index > 0 && item.reservedDate != borrowItems[index - 1].reservedDate)) ?\n                                                <div className=\"today_date\">\n                                                    <p>{item.reservedDate}</p>\n                                                </div> : null\n                                            }\n                                            <div className=\"content_box\">\n                                                <div>\n                                                    <p className=\"obj_name\">{item.name}</p>\n                                                    <div className=\"reserved_content\">\n                                                        <div className=\"reserved-photo\">\n                                                            <img src={\"../\" + item.image} alt=\"\" className=\"reserved-photo-img\"></img>\n                                                        </div>\n                                                        <div>\n                                                            <div className=\"reserved_info\">\n                                                                <table>\n                                                                    <tr>\n                                                                        <th>借物學生</th>\n                                                                        <td>{item.stuNumber} &nbsp; <span>{item.stuName}</span></td>\n                                                                        <th>借物理由</th>\n                                                                        <td>{item.reservedReason}</td>\n                                                                    </tr>\n                                                                    <tr>\n                                                                        <th>聯絡電話</th>\n                                                                        <td>{item.stuPhone}</td>\n                                                                        <th>拿取時間</th>\n                                                                        <td>{item.getTime}</td>\n                                                                    </tr>\n                                                                    <tr>\n                                                                        <th>E-mail</th>\n                                                                        <td colspan=\"3\">{item.stuEmail}</td>\n                                                                    </tr>\n                                                                </table>\n                                                            </div>\n                                                        </div>\n                                                        <button className=\"primary-btn-M-O\" onClick={() => returnBorrow(item.reservedState, item._id, item.name, item.reservedDate, item.stuNumber)}>歸還</button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))\n                                )\n                            }\n                        </div>\n                    )}\n        </div>\n    );\n}\n\nexport default AssistantLendedScreen;","import React, { useEffect, useState, useContext } from 'react';\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n// import items from '../json/items.json'\nimport { StateContext, DispatchContext, HeaderContext } from \"../contexts\"\nimport actionType, { SERVER_URL } from \"../constants\";\nimport '../css/assistant_overview.css'\n\nconst today = new Date();\nconst currentDay = today.getDate();\nconst currentMonth = today.getMonth();\nconst currentYear = today.getFullYear();\nconst todayDate = currentYear.toString() + \"-\" + + (currentMonth + 1).toString() + \"-\" + currentDay.toString();\n\nconst AssistantOverviewScreen = () => {\n    const [headerContext, setHeaderContext] = useContext(HeaderContext);\n    const { borrowInfo, itemsInfo } = useContext(StateContext);\n    const { items, loading, error } = itemsInfo;\n    const { borrowItems, borrowLoading, borrowError } = borrowInfo;\n    const dispatch = useContext(DispatchContext);\n\n    useEffect(() => {\n        const changeHeaderTitle = () => {\n            setHeaderContext(\"物品總覽\")\n        }\n        changeHeaderTitle()\n    });\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                dispatch({ type: actionType.RESERVED_ITEMS_REQUEST });\n                const { data } = await axios.post(SERVER_URL + \"/api/reserved/overview\", {\n                    reservedDate: todayDate\n                });\n                dispatch({ type: actionType.RESERVED_GET_ITEMS, payload: data });\n            } catch (error) {\n                dispatch({\n                    type: actionType.RESERVED_ITEMS_FAIL,\n                    payload: error.message,\n                });\n            }\n        }\n        fetchData();\n    }, []);\n\n    useEffect(() => {\n        async function fetchData() {\n          try {\n            dispatch({ type: actionType.ITEM_LIST_REQUEST });\n            const { data } = await axios.get(SERVER_URL + \"/api/items\");\n            dispatch({ type: actionType.ITEM_LIST_SUCCESS, payload: data });\n          } catch (error) {\n            dispatch({\n              type: actionType.ITEM_LIST_FAIL,\n              payload: error.message,\n            });\n          }\n        }\n        fetchData();\n      }, []);\n\n    const changeState = async (reservedState, borrowId) => {\n        // dispatch({ type: actionType.BORROW_REMOVE_ITEM, payload: borrowId });\n        try {\n            await axios.put(SERVER_URL + \"/api/reserved/\" + borrowId + \"/changeState\", {\n                reservedState\n            });\n            dispatch({ type: actionType.RESERVED_ITEMS_REQUEST });\n            const { data } = await axios.post(SERVER_URL + \"/api/reserved/today\", {\n                reservedDate: todayDate\n            });\n            console.log(data);\n            dispatch({ type: actionType.RESERVED_GET_ITEMS, payload: data });\n        } catch (error) {\n            alert(error);\n        }\n    };\n\n    const removeBorrow = async (borrowId, name, alreadyBorrowDate, stuNumber) => {\n        dispatch({ type: actionType.BORROW_REMOVE_ITEM, payload: borrowId });\n        try {\n            await axios.post(SERVER_URL + \"/api/reserved/remove\", {\n                _id: borrowId\n            });\n            const { data } = await axios.put(SERVER_URL + \"/api/items/findItem\", {\n                name\n            });\n            await axios.put(SERVER_URL + \"/api/items/\" + data._id + \"/removeAlreadyBorrowDate\", {\n                alreadyBorrowDate\n            });\n            removeUserReserved(stuNumber, name, alreadyBorrowDate);\n        } catch (error) {\n            alert(error);\n        }\n    };\n\n    const returnBorrow = async (reservedState, borrowId, name, alreadyBorrowDate, stuNumber) => {\n        dispatch({ type: actionType.BORROW_REMOVE_ITEM, payload: borrowId });\n        try {\n            await axios.put(SERVER_URL + \"/api/reserved/\" + borrowId + \"/changeState\", {\n                reservedState\n            });\n            const { data } = await axios.put(SERVER_URL + \"/api/items/findItem\", {\n                name\n            });\n            await axios.put(SERVER_URL + \"/api/items/\" + data._id + \"/removeAlreadyBorrowDate\", {\n                alreadyBorrowDate\n            });\n            removeUserReserved(stuNumber, name, alreadyBorrowDate);\n        } catch (error) {\n            alert(error);\n        }\n    };\n\n    const removeUserReserved = async (number, reservedName, reservedDate) => {\n        try {\n            await axios.put(SERVER_URL + \"/api/users/deleteReserved\", {\n                number,\n                reservedName,\n                reservedDate\n            });\n            // dispatch({ type: actionType.USER_UPDATE_RESERVED, payload: data });\n        } catch (error) {\n            alert(error);\n        }\n    };\n\n    const isLended = (alreadyBorrowDay) => {\n        var dayCorrect = false;\n        if (alreadyBorrowDay != []) {\n          alreadyBorrowDay.forEach(element => {\n            var dateArr = element.split(\"-\");\n            if (dateArr[0] === currentYear.toString() && dateArr[1] === (currentMonth + 1).toString() && dateArr[2]=== currentDay.toString()) {\n              dayCorrect = true\n            } \n          });\n          if(dayCorrect === true){\n            return true;\n          }\n          else{\n            return false;\n          }\n        }\n        else {\n          return false;\n        }\n      }\n\n    return (\n        <div className=\"assistant_overviewContent\">\n            <aside className=\"sidebar\">\n                <ul>\n                    <li>\n                        <Link to={\"/AssistantOverview\"}>\n                            <button className=\"sideBar-btn select\" onclick=\"SideBar(event)\">\n                                <i className=\"fa fa-align-justify\" aria-hidden=\"true\"></i>\n                                總覽\n                            </button>\n                        </Link>\n                    </li>\n                    <li>\n                        <Link to={\"/AssistantToday\"}>\n                            <button className=\"sideBar-btn\" onclick=\"SideBar(event)\">\n                                <i className=\"fa fa-calendar-o\" aria-hidden=\"true\"></i>\n                                今日預約\n                            </button>\n                        </Link>\n                    </li>\n                    <li>\n                        <Link to={\"/AssistantReserved\"}>\n                            <button className=\"sideBar-btn\" onclick=\"SideBar(event)\">\n                                <i className=\"fa fa-clock-o\" aria-hidden=\"true\"></i>\n                                已預約\n                                </button>\n                        </Link>\n                    </li>\n                    <li>\n                        <Link to={\"/AssistantLended\"}>\n                            <button className=\"sideBar-btn\" onclick=\"SideBar(event)\">\n                                <i className=\"fa fa-sign-out\" aria-hidden=\"true\"></i>\n                                已借出\n                            </button>\n                        </Link>\n                    </li>\n                </ul>\n                <div>\n                    <hr />\n                    <Link to={\"/AssistantBorrow\"}>\n                        <button className=\"sideBar-btn\">\n                            <i className=\"fa fa-cog\" aria-hidden=\"true\"></i>\n                            管理物品\n                            </button>\n                    </Link>\n                </div>\n            </aside>\n            <div className=\"assistant_overview-content\">\n                <div className=\"today_reserved content_box\">\n                    <div className=\"title\">\n                        <p>今日預約</p>\n                        <p>{todayDate}</p>\n                    </div>\n                    {borrowLoading ? (\n                        // <LoadingBox></LoadingBox>\n                        <div>loading</div>\n                    ) : borrowError ? (\n                        // <MessageBox variant=\"danger\">{error}</MessageBox>\n                        <div>{borrowError}</div>\n                    ) : (\n                                <div>\n                                    {borrowItems.length <= 0 ? (\n                                        <div className=\"personal-borrowRecord-none1\"><i class=\"fa fa-history\" aria-hidden=\"true\"></i><p>今日尚未有預約</p></div>\n                                    ) : (\n                                            <div>\n                                                <p className=\"obj_name\">{borrowItems[0].name}</p>\n                                                <div className=\"reserved_content\">\n                                                    <div className=\"reserved-photo\">\n                                                        <img src={\"../\" + borrowItems[0].image} alt=\"\" className=\"reserved-photo-img\"></img>\n                                                    </div>\n                                                    <div>\n                                                        <div className=\"reserved_info\">\n                                                            <table>\n                                                                <tr>\n                                                                    <th>借物學生</th>\n                                                                    <td>{borrowItems[0].stuNumber} &nbsp; <span>{borrowItems[0].stuName}</span></td>\n                                                                    <th>借物理由</th>\n                                                                    <td>{borrowItems[0].reservedReason}</td>\n                                                                </tr>\n                                                                <tr>\n                                                                    <th>聯絡電話</th>\n                                                                    <td>{borrowItems[0].stuPhone}</td>\n                                                                    <th>拿取時間</th>\n                                                                    <td>{borrowItems[0].getTime}</td>\n                                                                </tr>\n                                                                <tr>\n                                                                    <th>E-mail</th>\n                                                                    <td colspan=\"3\">{borrowItems[0].stuEmail}</td>\n                                                                </tr>\n                                                            </table>\n                                                        </div>\n                                                    </div>\n                                                    {borrowItems[0].reservedState == \"已預約\" ?\n                                                        <div className=\"btnArea-col\">\n                                                            <button className=\"primary-btn-M-O\" onClick={() => changeState(borrowItems[0].reservedState, borrowItems[0]._id)}>借出</button>\n                                                            <button className=\"secondary-btn-M\" onClick={() => removeBorrow(borrowItems[0]._id, borrowItems[0].name, borrowItems[0].reservedDate, borrowItems[0].stuNumber)}>取消預約</button>\n                                                        </div> : null\n                                                    }\n                                                    {borrowItems[0].reservedState == \"已借出\" ?\n                                                        <button className=\"primary-btn-M-O\" onClick={() => returnBorrow(borrowItems[0].reservedState, borrowItems[0]._id, borrowItems[0].name, borrowItems[0].reservedDate, borrowItems[0].stuNumber)}>歸還</button>\n                                                        : null\n                                                    }\n                                                </div>\n                                            </div>\n                                        )}\n                                </div>\n                            )}\n\n                    <Link to={\"/AssistantToday\"} className=\"more_reserved\">\n                        <i className=\"fa fa-chevron-down\" aria-hidden=\"true\"></i>\n                    </Link>\n                </div>\n                <div className=\"obj_status content_box\">\n                    <div className=\"title\">\n                        <p>物品狀態</p>\n                        <Link to={\"/AssistantBorrow\"}>\n                            <button>\n                                <i className=\"fa fa-external-link\" aria-hidden=\"true\"></i>\n                                &nbsp;管理物品\n                                </button>\n                        </Link>\n                    </div>\n                    {loading ? (\n                        // <LoadingBox></LoadingBox>\n                        <div>loading</div>\n                    ) : error ? (\n                        // <MessageBox variant=\"danger\">{error}</MessageBox>\n                        <div>{error}</div>\n                    ) : (<div>\n                        <table>\n                            {items.map((item) => (\n                                <tr>\n                                    <td>{item.name}</td>\n                                    <td>{isLended(item.alreadyBorrowDate) ? \"已借出\" : \"尚未借出\"}</td>\n                                </tr>\n                            ))}\n                        </table>\n                    </div>)}\n                </div>\n                <div className=\"newest_reserved content_box\">\n                    <div className=\"title\">\n                        <p>最新預約</p>\n                        <Link to={\"/AssistantReserved\"}>\n                            <button>\n                                <i className=\"fa fa-external-link\" aria-hidden=\"true\"></i>\n                                &nbsp;查看預約\n                                </button>\n                        </Link>\n                    </div>\n                    <div>\n                        <div className=\"newest_content\">\n                            {borrowItems.length == 0 ? (\n                                <div className=\"personal-borrowRecord-none\"><i class=\"fa fa-history\" aria-hidden=\"true\"></i><p>今日尚未有預約</p></div>\n                            ) : (\n                                    <div>\n                                        {borrowItems.length > 0 ?\n                                            <div>\n                                                <p className=\"obj_name\">{borrowItems[borrowItems.length - 1].name}</p>\n                                                <div className=\"reserved-photo\">\n                                                    <img src={\"../\" + borrowItems[borrowItems.length - 1].image} alt=\"\" className=\"reserved-photo-img\"></img>\n                                                </div>\n                                            </div>\n                                            : null}\n                                    </div>\n                                )}\n                            <div>\n                                <div className=\"reserved_info\">\n                                    {borrowItems.length == 0 ? (\n                                        <div className=\"personal-borrowRecord-none\"></div>\n                                    ) : (\n                                            <div>\n                                                {borrowItems.length > 0 ?\n                                                    <table>\n                                                        <tr>\n                                                            <th>借物學生</th>\n                                                            <td>{borrowItems[borrowItems.length - 1].stuNumber} &nbsp; <span>{borrowItems[borrowItems.length - 1].stuName}</span></td>\n                                                        </tr>\n                                                        <tr>\n                                                            <th>借用日期</th>\n                                                            <td>{borrowItems[borrowItems.length - 1].reservedDate}</td>\n                                                        </tr>\n                                                        <tr>\n                                                            <th>借物理由</th>\n                                                            <td>{borrowItems[borrowItems.length - 1].reservedReason}</td>\n                                                        </tr>\n                                                        <tr>\n                                                            <th>拿取時間</th>\n                                                            <td>{borrowItems[borrowItems.length - 1].getTime}</td>\n                                                        </tr>\n                                                    </table>\n                                                    : null}\n                                            </div>\n                                        )}\n                                </div>\n                            </div>\n                        </div>\n\n                        <hr />\n\n                        <div className=\"newest_content\">\n                            {borrowItems.length <= 1 ? (\n                                <div className=\"personal-borrowRecord-none\"><i class=\"fa fa-history\" aria-hidden=\"true\"></i><p>今日尚未有預約</p></div>\n                            ) : (\n                                    <div>\n                                        {borrowItems.length > 1 ?\n                                            <div>\n                                                <p className=\"obj_name\">{borrowItems[borrowItems.length - 2].name}</p>\n                                                <div className=\"reserved-photo\">\n                                                    <img src={\"../\" + borrowItems[borrowItems.length - 2].image} alt=\"\" className=\"reserved-photo-img\"></img>\n                                                </div>\n                                            </div>\n                                            : null}\n                                    </div>\n                                )}\n                            <div>\n                                <div className=\"reserved_info\">\n                                    {borrowItems.length <= 1 ? (\n                                        <div className=\"personal-borrowRecord-none\"></div>\n                                    ) : (\n                                            <div>\n                                                {borrowItems.length > 1 ?\n                                                    <table>\n                                                        <tr>\n                                                            <th>借物學生</th>\n                                                            <td>{borrowItems[borrowItems.length - 2].stuNumber} &nbsp; <span>{borrowItems[borrowItems.length - 2].stuName}</span></td>\n                                                        </tr>\n                                                        <tr>\n                                                            <th>借用日期</th>\n                                                            <td>{borrowItems[borrowItems.length - 2].reservedDate}</td>\n                                                        </tr>\n                                                        <tr>\n                                                            <th>借物理由</th>\n                                                            <td>{borrowItems[borrowItems.length - 2].reservedReason}</td>\n                                                        </tr>\n                                                        <tr>\n                                                            <th>拿取時間</th>\n                                                            <td>{borrowItems[borrowItems.length - 2].getTime}</td>\n                                                        </tr>\n                                                    </table>\n                                                    : null}\n                                            </div>\n                                        )}\n                                </div>\n                            </div>\n                        </div>\n                        \n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default AssistantOverviewScreen;","import React, { useEffect, useState, useContext } from 'react';\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport { StateContext, DispatchContext, HeaderContext } from \"../contexts\"\nimport actionType, { SERVER_URL } from \"../constants\";\nimport '../css/assistant_today.css'\n\nconst today = new Date();\nconst currentDay = today.getDate();\nconst currentMonth = today.getMonth();\nconst currentYear = today.getFullYear();\nconst todayDate = currentYear.toString() + \"-\" + + (currentMonth + 1).toString() + \"-\" + currentDay.toString();\n\nconst AssistantReservedScreen = () => {\n    const { borrowInfo } = useContext(StateContext);\n    const { borrowItems, borrowLoading, borrowError } = borrowInfo;\n    const [headerContext, setHeaderContext] = useContext(HeaderContext);\n    const dispatch = useContext(DispatchContext);\n\n    useEffect(() => {\n        const changeHeaderTitle = () => {\n            setHeaderContext(\"物品總覽-已預約\")\n        }\n        changeHeaderTitle()\n    });\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                dispatch({ type: actionType.RESERVED_ITEMS_REQUEST });\n                const { data } = await axios.get(SERVER_URL + \"/api/reserved/new\");\n                dispatch({ type: actionType.RESERVED_GET_ITEMS, payload: data });\n            } catch (error) {\n                dispatch({\n                    type: actionType.RESERVED_ITEMS_FAIL,\n                    payload: error.message,\n                });\n            }\n        }\n        fetchData();\n    }, []);\n\n    const changeState = async (reservedState, borrowId) => {\n        // dispatch({ type: actionType.BORROW_REMOVE_ITEM, payload: borrowId });\n        try {\n            await axios.put(SERVER_URL + \"/api/reserved/\" + borrowId + \"/changeState\", {\n                reservedState\n            });\n            dispatch({ type: actionType.RESERVED_ITEMS_REQUEST });\n            const { data } = await axios.post(SERVER_URL + \"/api/reserved/today\", {\n                reservedDate: todayDate\n            });\n            dispatch({ type: actionType.RESERVED_GET_ITEMS, payload: data });\n        } catch (error) {\n            alert(error);\n        }\n    };\n\n    const removeBorrow = async (borrowId, name, alreadyBorrowDate, stuNumber) => {\n        dispatch({ type: actionType.BORROW_REMOVE_ITEM, payload: borrowId });\n        try {\n            await axios.post(SERVER_URL + \"/api/reserved/remove\", {\n                _id: borrowId\n            });\n            const { data } = await axios.put(SERVER_URL + \"/api/items/findItem\", {\n                name\n            });\n            await axios.put(SERVER_URL + \"/api/items/\" + data._id + \"/removeAlreadyBorrowDate\", {\n                alreadyBorrowDate\n            });\n            removeUserReserved(stuNumber, name, alreadyBorrowDate);\n        } catch (error) {\n            alert(error);\n        }\n    };\n\n    const removeUserReserved = async (number, reservedName, reservedDate) => {\n        try {\n            await axios.put(SERVER_URL + \"/api/users/deleteReserved\", {\n                number,\n                reservedName,\n                reservedDate\n            });\n            // dispatch({ type: actionType.USER_UPDATE_RESERVED, payload: data });\n        } catch (error) {\n            alert(error);\n        }\n    };\n\n    return (\n        <div className=\"assistant_today-content\">\n            <aside className=\"sidebar\">\n                <ul>\n                    <li>\n                        <Link to={\"/AssistantOverview\"}>\n                            <button className=\"sideBar-btn\" onclick=\"SideBar(event)\">\n                                <i className=\"fa fa-align-justify\" aria-hidden=\"true\"></i>\n                                總覽\n                            </button>\n                        </Link>\n                    </li>\n                    <li>\n                        <Link to={\"/AssistantToday\"}>\n                            <button className=\"sideBar-btn\" onclick=\"SideBar(event)\">\n                                <i className=\"fa fa-calendar-o\" aria-hidden=\"true\"></i>\n                                今日預約\n                            </button>\n                        </Link>\n                    </li>\n                    <li>\n                        <Link to={\"/AssistantReserved\"}>\n                            <button className=\"sideBar-btn select\" onclick=\"SideBar(event)\">\n                                <i className=\"fa fa-clock-o\" aria-hidden=\"true\"></i>\n                                已預約\n                                </button>\n                        </Link>\n                    </li>\n                    <li>\n                        <Link to={\"/AssistantLended\"}>\n                            <button className=\"sideBar-btn\" onclick=\"SideBar(event)\">\n                                <i className=\"fa fa-sign-out\" aria-hidden=\"true\"></i>\n                                已借出\n                            </button>\n                        </Link>\n                    </li>\n                </ul>\n                <div>\n                    <hr />\n                    <Link to={\"/AssistantBorrow\"}>\n                        <button className=\"sideBar-btn\">\n                            <i className=\"fa fa-cog\" aria-hidden=\"true\"></i>\n                            管理物品\n                            </button>\n                    </Link>\n                </div>\n            </aside>\n            {borrowLoading ? (\n                // <LoadingBox></LoadingBox>\n                <div>loading</div>\n            ) : borrowError ? (\n                // <MessageBox variant=\"danger\">{error}</MessageBox>\n                <div>{borrowError}</div>\n            ) : (\n                        <div className=\"today_content\">\n                            {borrowItems.length === 0 ? (\n                                <div className=\"personal-borrowRecord-none\"><i class=\"fa fa-history\" aria-hidden=\"true\"></i><p>尚未有借用預約</p></div>\n                            ) : (\n                                    borrowItems.map((item, index) => (\n                                        <div className=\"one_day_reserved\">\n                                            { (index == 0 || (index > 0 && item.reservedDate != borrowItems[index - 1].reservedDate)) ?\n                                                <div className=\"today_date\">\n                                                    <p>{item.reservedDate}</p>\n                                                </div> : null\n                                            }\n                                            <div className=\"content_box\">\n                                                <div>\n                                                    <p className=\"obj_name\">{item.name}</p>\n                                                    <div className=\"reserved_content\">\n                                                        <div className=\"reserved-photo\">\n                                                            <img src={\"../\" + item.image} alt=\"\" className=\"reserved-photo-img\"></img>\n                                                        </div>\n                                                        <div>\n                                                            <div className=\"reserved_info\">\n                                                                <table>\n                                                                    <tr>\n                                                                        <th>借物學生</th>\n                                                                        <td>{item.stuNumber} &nbsp; <span>{item.stuName}</span></td>\n                                                                        <th>借物理由</th>\n                                                                        <td>{item.reservedReason}</td>\n                                                                    </tr>\n                                                                    <tr>\n                                                                        <th>聯絡電話</th>\n                                                                        <td>{item.stuPhone}</td>\n                                                                        <th>拿取時間</th>\n                                                                        <td>{item.getTime}</td>\n                                                                    </tr>\n                                                                    <tr>\n                                                                        <th>E-mail</th>\n                                                                        <td colspan=\"3\">{item.stuEmail}</td>\n                                                                    </tr>\n                                                                </table>\n                                                            </div>\n                                                        </div>\n                                                        {item.reservedDate == todayDate ?\n                                                            <div className=\"btnArea-col\">\n                                                                <button className=\"primary-btn-M-O\" onClick={() => changeState(item.reservedState, item._id)}>借出</button>\n                                                                <button className=\"secondary-btn-M\" onClick={() => removeBorrow(item._id, item.name, item.reservedDate, item.stuNumber)}>取消預約</button>\n                                                            </div> : null\n                                                        }\n                                                        {item.reservedDate != todayDate ?\n                                                            <button className=\"secondary-btn-M\" onClick={() => removeBorrow(item._id, item.name, item.reservedDate, item.stuNumber)}>取消預約</button>\n                                                            : null\n                                                        }\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))\n                                )\n                            }\n                        </div>\n                    )}\n        </div>\n    );\n}\n\nexport default AssistantReservedScreen;","import React, { useEffect, useState, useContext } from 'react';\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport { StateContext, DispatchContext, HeaderContext } from \"../contexts\"\nimport actionType, { SERVER_URL } from \"../constants\";\nimport '../css/assistant_today.css'\n\nconst today = new Date();\nconst currentDay = today.getDate();\nconst currentMonth = today.getMonth();\nconst currentYear = today.getFullYear();\nconst todayDate = currentYear.toString() + \"-\" + + (currentMonth + 1).toString() + \"-\" + currentDay.toString();\n\nconst AssistantTodayScreen = () => {\n    const [headerContext, setHeaderContext] = useContext(HeaderContext);\n    const { borrowInfo } = useContext(StateContext);\n    const { borrowItems, borrowLoading, borrowError } = borrowInfo;\n    const dispatch = useContext(DispatchContext);\n\n    useEffect(() => {\n        const changeHeaderTitle = () => {\n            setHeaderContext(\"物品總覽-今日預約\")\n        }\n        changeHeaderTitle()\n    });\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                dispatch({ type: actionType.RESERVED_ITEMS_REQUEST });\n                const { data } = await axios.post(SERVER_URL + \"/api/reserved/today\", {\n                    reservedDate: todayDate\n                });\n                dispatch({ type: actionType.RESERVED_GET_ITEMS, payload: data });\n            } catch (error) {\n                dispatch({\n                    type: actionType.RESERVED_ITEMS_FAIL,\n                    payload: error.message,\n                });\n            }\n        }\n        fetchData();\n    }, []);\n\n    const changeState = async (reservedState, borrowId) => {\n        // dispatch({ type: actionType.BORROW_REMOVE_ITEM, payload: borrowId });\n        try {\n            await axios.put(SERVER_URL + \"/api/reserved/\" + borrowId + \"/changeState\", {\n                reservedState\n            });\n            dispatch({ type: actionType.RESERVED_ITEMS_REQUEST });\n            const { data } = await axios.post(SERVER_URL + \"/api/reserved/today\", {\n                reservedDate: todayDate\n            });\n            dispatch({ type: actionType.RESERVED_GET_ITEMS, payload: data });\n        } catch (error) {\n            alert(error);\n        }\n    };\n\n    const removeBorrow = async (borrowId, name, alreadyBorrowDate, stuNumber) => {\n        dispatch({ type: actionType.BORROW_REMOVE_ITEM, payload: borrowId });\n        try {\n            await axios.post(SERVER_URL + \"/api/reserved/remove\", {\n                _id: borrowId\n            });\n            const { data } = await axios.put(SERVER_URL + \"/api/items/findItem\", {\n                name\n            });\n            await axios.put(SERVER_URL + \"/api/items/\" + data._id + \"/removeAlreadyBorrowDate\", {\n                alreadyBorrowDate\n            });\n            removeUserReserved(stuNumber, name, alreadyBorrowDate);\n        } catch (error) {\n            alert(error);\n        }\n    };\n\n    const returnBorrow = async (reservedState, borrowId, name, alreadyBorrowDate, stuNumber) => {\n        dispatch({ type: actionType.BORROW_REMOVE_ITEM, payload: borrowId });\n        try {\n            await axios.put(SERVER_URL + \"/api/reserved/\" + borrowId + \"/changeState\", {\n                reservedState\n            });\n            const { data } = await axios.put(SERVER_URL + \"/api/items/findItem\", {\n                name\n            });\n            await axios.put(SERVER_URL + \"/api/items/\" + data._id + \"/removeAlreadyBorrowDate\", {\n                alreadyBorrowDate\n            });\n            removeUserReserved(stuNumber, name, alreadyBorrowDate);\n        } catch (error) {\n            alert(error);\n        }\n    };\n\n    const removeUserReserved = async (number, reservedName, reservedDate) => {\n        try {\n            await axios.put(SERVER_URL + \"/api/users/deleteReserved\", {\n                number,\n                reservedName,\n                reservedDate\n            });\n            // dispatch({ type: actionType.USER_UPDATE_RESERVED, payload: data });\n        } catch (error) {\n            alert(error);\n        }\n    };\n\n    return (\n        <div className=\"assistant_today-content\">\n            <aside className=\"sidebar\">\n                <ul>\n                    <li>\n                        <Link to={\"/AssistantOverview\"}>\n                            <button className=\"sideBar-btn\" onclick=\"SideBar(event)\">\n                                <i className=\"fa fa-align-justify\" aria-hidden=\"true\"></i>\n                                總覽\n                            </button>\n                        </Link>\n                    </li>\n                    <li>\n                        <Link to={\"/AssistantToday\"}>\n                            <button className=\"sideBar-btn  select\" onclick=\"SideBar(event)\">\n                                <i className=\"fa fa-calendar-o\" aria-hidden=\"true\"></i>\n                                今日預約\n                            </button>\n                        </Link>\n                    </li>\n                    <li>\n                        <Link to={\"/AssistantReserved\"}>\n                            <button className=\"sideBar-btn\" onclick=\"SideBar(event)\">\n                                <i className=\"fa fa-clock-o\" aria-hidden=\"true\"></i>\n                                已預約\n                                </button>\n                        </Link>\n                    </li>\n                    <li>\n                        <Link to={\"/AssistantLended\"}>\n                            <button className=\"sideBar-btn\" onclick=\"SideBar(event)\">\n                                <i className=\"fa fa-sign-out\" aria-hidden=\"true\"></i>\n                                已借出\n                            </button>\n                        </Link>\n                    </li>\n                </ul>\n                <div>\n                    <hr />\n                    <Link to={\"/AssistantBorrow\"}>\n                        <button className=\"sideBar-btn\">\n                            <i className=\"fa fa-cog\" aria-hidden=\"true\"></i>\n                            管理物品\n                            </button>\n                    </Link>\n                </div>\n            </aside>\n            <div className=\"today_content\">\n                <div className=\"today_date\">\n                    <p>{todayDate}</p>\n                </div>\n                {borrowLoading ? (\n                    // <LoadingBox></LoadingBox>\n                    <div>loading</div>\n                ) : borrowError ? (\n                    // <MessageBox variant=\"danger\">{error}</MessageBox>\n                    <div>{borrowError}</div>\n                ) : (\n                            <div>\n                                {borrowItems.length === 0 ? (\n                                    <div className=\"personal-borrowRecord-none\"><i class=\"fa fa-history\" aria-hidden=\"true\"></i><p>今日尚未有預約</p></div>\n                                ) : (\n                                        borrowItems.map((item) => (\n                                            <div className=\"content_box\">\n                                                <p className=\"obj_name\">{item.name}</p>\n                                                <div className=\"reserved_content\">\n                                                    <div className=\"reserved-photo\">\n                                                        <img src={\"../\" + item.image} alt=\"\" className=\"reserved-photo-img\"></img>\n                                                    </div>\n                                                    <div>\n                                                        <div className=\"reserved_info\">\n                                                            <table>\n                                                                <tr>\n                                                                    <th>借物學生</th>\n                                                                    <td>{item.stuNumber} &nbsp; <span>{item.stuName}</span></td>\n                                                                    <th>借物理由</th>\n                                                                    <td>{item.reservedReason}</td>\n                                                                </tr>\n                                                                <tr>\n                                                                    <th>聯絡電話</th>\n                                                                    <td>{item.stuPhone}</td>\n                                                                    <th>拿取時間</th>\n                                                                    <td>{item.getTime}</td>\n                                                                </tr>\n                                                                <tr>\n                                                                    <th>E-mail</th>\n                                                                    <td colspan=\"3\">{item.stuEmail}</td>\n                                                                </tr>\n                                                            </table>\n                                                        </div>\n                                                    </div>\n                                                    {item.reservedState == \"已預約\" ?\n                                                        <div className=\"btnArea-col\">\n                                                            <button className=\"primary-btn-M-O\" onClick={() => changeState(item.reservedState, item._id)}>借出</button>\n                                                            <button className=\"secondary-btn-M\" onClick={() => removeBorrow(item._id, item.name, item.reservedDate, item.stuNumber)}>取消預約</button>\n                                                        </div> : null\n                                                    }\n                                                    {item.reservedState == \"已借出\" ?\n                                                        <button className=\"primary-btn-M-O\" onClick={() => returnBorrow(item.reservedState, item._id, item.name, item.reservedDate, item.stuNumber)}>歸還</button>\n                                                        : null\n                                                    }\n                                                </div>\n                                            </div>\n                                        ))\n                                    )\n                                }\n                            </div>\n                        )}\n            </div>\n        </div>\n    );\n}\n\nexport default AssistantTodayScreen;","import React, { useEffect, useState, useContext } from 'react';\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport { StateContext, DispatchContext, HeaderContext } from \"../contexts\"\nimport actionType, { SERVER_URL } from \"../constants\";\nimport '../css/borrowRecord.css'\n\nconst BorrowRecordScreen = (props) => {\n    const [headerContext, setHeaderContext] = useContext(HeaderContext);\n    const { itemsInfo, borrowInfo } = useContext(StateContext);\n    const { items, loading, error } = itemsInfo;\n    const { borrowItems, borrowLoading, borrowError } = borrowInfo;\n    const dispatch = useContext(DispatchContext);\n\n    var item = {}\n\n    if (items.length != 0 && items) {\n        item = items.find(\n            (x) => x._id === props.match.params.id\n        );\n    }\n\n    useEffect(() => {\n        const changeHeaderTitle = () => {\n            setHeaderContext(\"租借紀錄\")\n        }\n        changeHeaderTitle()\n    });\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                dispatch({ type: actionType.RESERVED_ITEMS_REQUEST });\n\n                const { data } = await axios.post(SERVER_URL + \"/api/reserved/record\", {name:item.name});\n                dispatch({ type: actionType.RESERVED_GET_ITEMS, payload: data });\n            } catch (error) {\n                dispatch({\n                    type: actionType.RESERVED_ITEMS_FAIL,\n                    payload: error.message,\n                });\n            }\n        }\n        fetchData();\n    }, []);\n\n    return (\n        <div className=\"borrowRecord-content\">\n            {borrowLoading ? (\n                // <LoadingBox></LoadingBox>\n                <div>loading</div>\n            ) : borrowError ? (\n                // <MessageBox variant=\"danger\">{error}</MessageBox>\n                <div>{borrowError}</div>\n            ) : (\n                        <div>\n                            <div className=\"item-name\">{item.name}</div>\n                            <div className=\"line\"></div>\n                            <div className=\"mainContent\">\n                                <table>\n                                    <tr>\n                                        <th>借用日期</th>\n                                        <th>借物學生</th>\n                                        <th>聯絡方式</th>\n                                        <th>借用理由</th>\n                                        <th>租借狀態</th>\n                                        <th>歸還日期</th>\n                                    </tr>\n                                    {borrowItems.length === 0 ? (\n                                        <div className=\"personal-borrowRecord-none\"><i class=\"fa fa-history\" aria-hidden=\"true\"></i><p>尚未有歷史紀錄</p></div>\n                                    ) : (\n                                            borrowItems.map((borrowitem) => (\n                                                <tr>\n                                                    <td>{borrowitem.reservedDate}</td>\n                                                    <td>{borrowitem.stuNumber}&nbsp; {borrowitem.stuName}</td>\n                                                    <td>{borrowitem.stuPhone} <br></br> {borrowitem.stuEmail}</td>\n                                                    <td>{borrowitem.reservedReason}</td>\n                                                    <td>{borrowitem.reservedState}</td>\n                                                    <td>一</td>\n                                                </tr>\n                                            ))\n                                        )}\n                                </table>\n                            </div>\n                        </div>\n                    )}\n        </div>\n    );\n}\n\nexport default BorrowRecordScreen;","import React, { useEffect, useState, useContext } from 'react';\nimport { Link, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n// import Calendar from \"../components/CalendarDay\"\nimport { StateContext, DispatchContext, HeaderContext } from \"../contexts\"\nimport actionType, { SERVER_URL } from \"../constants\";\nimport '../css/edit.css'\n\n//-------------------------\nconst today = new Date();\nconst monthsArr = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\nconst daysArr = [\"SUN\", \"MON\", \"TUE\", \"WED\", \"THU\", \"FRI\", \"SAT\"];\nconst currentMonth = today.getMonth();\nconst currentYear = today.getFullYear();\nconst currentDate = today.getDate();\nvar nodate;\nvar nextMonth = currentMonth + 1;\nvar cantBorrowDate = [];\nvar cantChooseCantBorrowDate = [];\nvar cantChooseAlreadyBorrowDate = [];\nvar datePushArray = [];\nvar datePushArray1 = [];\nvar item = {};\nvar ruleString = '';\n\nif (currentMonth == 11) {\n    nextMonth = 0;\n}\n\n//-------------------------\n\nconst EditScreen = (props) => {\n    const [itemnull, setItemnull] = useState(true);\n    const { itemsInfo } = useContext(StateContext);\n    const { items, loading, error } = itemsInfo;\n    const dispatch = useContext(DispatchContext);\n    const [name, setName] = useState(\"\");\n    const history = useHistory();\n\n    var rules\n\n    if (items.length != 0 && items) {\n        item = items.find(\n            (x) => x._id === props.match.params.id\n        );\n    }\n\n    const [headerContext, setHeaderContext] = useContext(HeaderContext);\n    useEffect(() => {\n        const changeHeaderTitle = () => {\n            setHeaderContext(\"編輯物品\")\n        }\n        changeHeaderTitle()\n    });\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                dispatch({ type: actionType.ITEM_LIST_REQUEST });\n                const { data } = await axios.get(SERVER_URL + \"/api/items\");\n                dispatch({ type: actionType.ITEM_LIST_SUCCESS, payload: data });\n                setName(item.name)\n            } catch (error) {\n                dispatch({\n                    type: actionType.ITEM_LIST_FAIL,\n                    payload: error.message,\n                });\n            }\n        }\n        fetchData();\n    }, []);\n\n    useEffect(() => {\n        if (items.length != 0 && items) {\n            item = items.find(\n                (x) => x._id === props.match.params.id\n            );\n        }\n    }, [items]);\n\n    const submitHandler = async () => {\n        console.log(name)\n        // e.preventDefault();\n        dispatch({\n            type: actionType.ITEM_DETAILS_UPDATE_REQUEST\n        });\n        rules = document.getElementById(\"ruleTextarea\").value.replace(/\\r\\n/g,\"\\n\").split(\"\\n\");\n        try {\n            const { data } = await axios.put(SERVER_URL + \"/api/items/\" + props.match.params.id + \"/edit\", {\n                name,\n                cantBorrowDate,\n                rules\n            });\n            dispatch({ type: actionType.ITEM_DETAILS_UPDATE_SUCCESS, payload: data });\n            //   Cookie.set(\"userInfo\", JSON.stringify(data));\n            history.push(\"/Manage/\" + props.match.params.id);\n        } catch (error) {\n            dispatch({\n                type: actionType.ITEM_DETAILS_UPDATE_FAIL,\n                payload: error.message,\n            });\n        }\n    }\n\n    const clickedDate = (e) => {\n        if (e.className == \"date-picker\") {\n            e.className = \"date-picker selected\"\n            cantBorrowDate.push(e.getAttribute('data-year') + \"-\" + e.getAttribute('data-month') + \"-\" + e.getAttribute('data-date'));\n        } else {\n            e.className = \"date-picker\"\n            const index = cantBorrowDate.indexOf(e.getAttribute('data-year') + \"-\" + e.getAttribute('data-month') + \"-\" + e.getAttribute('data-date'));\n            if (index !== -1) {\n                cantBorrowDate.splice(index, 1);\n            }\n        }\n        console.log(cantBorrowDate);\n    };\n    \n    function daysInMonth(month, year) {\n        return 32 - new Date(year, month, 32).getDate();\n    }\n    \n    function showDays(month, year, i) {\n        if(itemnull === false){\n        var date = i * 7 - nodate + 1\n        var days = []\n        var firstDay = new Date(year, month).getDay();\n        var daysMonth = daysInMonth(month, year);\n        cantChooseCantBorrowDate = [];\n        cantChooseAlreadyBorrowDate = [];\n        datePushArray = [];\n        datePushArray1 = [];\n        cantChooseDate(month);\n        for (var j = 0; j < 7; j++) {\n            if (i === 0 && j < firstDay) {\n                days.push(\n                    <td></td>\n                )\n                nodate++;\n            } else if (date > daysMonth) {\n                break;\n            } else {\n                function findCantBorrowDate(num) {\n                    for (var v = 0; v < cantChooseCantBorrowDate.length; v++) {\n                        if (num.toString() === cantChooseCantBorrowDate[v]) {\n                            return true;\n                        }\n                    }\n                }\n                function findAlreadyBorrowDate(num) {\n                    for (var v = 0; v < cantChooseAlreadyBorrowDate.length; v++) {\n                        if (num.toString() === cantChooseAlreadyBorrowDate[v]) {\n                            return true;\n                        }\n                    }\n                }\n                if (month === currentMonth && date < currentDate) {\n                    days.push(\n                        <td data-date={date} data-month={month + 1} data-year={year} className=\"date-picker gray-text\">\n                            <span>{date}</span>\n                        </td>\n                    )\n                }\n                else if (findAlreadyBorrowDate(date) === true) {\n                    days.push(\n                        <td data-date={date} data-month={month + 1} data-year={year} className=\"date-picker cantSelected\">\n                            <span>{date}</span>\n                        </td>\n                    )\n                }\n                else if (findCantBorrowDate(date) === true) {\n                    // var class_name = \"date-picker selected\"\n                    // const index = cantBorrowDate.indexOf(year.toString() + \"-\" + (month + 1).toString() + \"-\" + date.toString());\n                    // if (index !== -1) {\n                    //     class_name = \"date-picker\"\n                    // }\n                    days.push(\n                        <td data-date={date} data-month={month + 1} data-year={year} className=\"date-picker selected\" onClick={(e) => clickedDate(e.currentTarget)}>\n                            <span>{date}</span>\n                        </td>\n                    )\n                }\n                else {\n                    // var class_name = \"date-picker\"\n                    // const index = cantBorrowDate.indexOf(year.toString() + \"-\" + (month + 1).toString() + \"-\" + date.toString());\n                    // if (index !== -1) {\n                    //     class_name = \"date-picker selected\"\n                    // }\n                    days.push(\n                        <td data-date={date} data-month={month + 1} data-year={year} className=\"date-picker\" onClick={(e) => clickedDate(e.currentTarget)}>\n                            <span>{date}</span>\n                        </td>\n                    )\n                }\n    \n                date++\n            }\n        }\n        return (days);\n    }}\n    \n    function showCalendar(month, year) {\n        if (itemnull === false) {\n            cantChooseDate(month);\n            var weeks = []\n            nodate = 0\n\n            for (var i = 0; i < 6; i++) {\n                weeks.push(\n                    <tr>\n                        {showDays(month, year, i)}\n                    </tr>\n                )\n            }\n            return (weeks);\n        }\n\n    }\n    function cantChooseDate(month) {\n        cantChooseCantBorrowDate = [];\n        cantChooseAlreadyBorrowDate = [];\n        datePushArray = [];\n        datePushArray1 = [];\n        if (itemnull === false) {\n                if (item.cantBorrowDate != null && item.cantBorrowDate.length>=0) {\n                    item.cantBorrowDate.forEach(element => {\n                        var dateArr = element.split(\"-\");\n                        if (dateArr[0] === currentYear.toString() && dateArr[1] === (month + 1).toString()) {\n                            datePushArray.push(dateArr[2]);\n                            cantChooseCantBorrowDate = Array.from(new Set(datePushArray));\n                        }\n                    });\n                }\n                if (item.alreadyBorrowDate != null && item.alreadyBorrowDate.length>=0) {\n                    item.alreadyBorrowDate.forEach(element => {\n                        var dateArr = element.split(\"-\");\n                        if (dateArr[0] === currentYear.toString() && dateArr[1] === (month + 1).toString()) {\n                            datePushArray1.push(dateArr[2]);\n                            cantChooseAlreadyBorrowDate = Array.from(new Set(datePushArray1));\n                            console.log(cantChooseAlreadyBorrowDate);\n                        }\n                    });\n                }\n            }\n    }\n\n    useEffect(() => {\n        cantChooseCantBorrowDate = [];\n        cantChooseAlreadyBorrowDate = [];\n        datePushArray = [];\n        datePushArray1 = [];\n    }, [item]);\n\n    useEffect(() => {\n        if (item != null && item._id != undefined) {\n            setItemnull(false);\n            cantBorrowDate = item.cantBorrowDate;\n        }\n        else {\n            setItemnull(true);\n        }\n        ruleString = '';\n        for(var i=0; i<item.rules.length;i++){\n            ruleString+=item.rules[i]+\"\\n\"\n        }\n    }, [item]);\n\n    const rednerCalender = (currentMonth) => {\n        if (itemnull === false) {\n            return (\n                showCalendar(currentMonth, currentYear)\n            )\n        }\n        else{\n            <div>loading</div>\n        }\n\n    }\n    return (\n        <div>\n            {loading ? (\n                // <LoadingBox></LoadingBox>\n                <div> loading</div>\n            ) : error ? (\n                // <MessageBox variant=\"danger\">{error}</MessageBox>\n                <div>{error}</div>\n            ) : (\n                        <div className=\"editContent\">\n                            <div className=\"photoArea\">\n                                <div className=\"icon-btn-S deleteBtn\">\n                                    <i className=\"fa fa-times \" aria-hidden=\"true\"></i>\n                                </div>\n                                <div className=\"largePhoto\">\n                                    <img src={\"../\" + item.image} alt=\"\"></img>\n                                </div>\n                                <div className=\"threeSmallPhoto\">\n                                    <div className=\"smallPhoto\">\n                                        <img src={\"../\" + item.image} alt=\"\"></img>\n                                    </div>\n                                    <div className=\"smallPhoto\">\n                                        <img src={\"../\" + item.image} alt=\"\"></img>\n                                    </div>\n                                    <div className=\"smallPhoto\">\n                                        <div className=\"icon-btn-M\">\n                                            <i className=\"fa fa-plus\" aria-hidden=\"true\"></i>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"detailArea\">\n                                <div className=\"descriptionArea\">\n                                    <input className=\"item-name-input\" type=\"text\" defaultValue={item.name} onChange={(e) => setName(e.target.value)}></input>\n                                    <div className=\"line\"></div>\n                                    <div className=\"rule\">\n                                        <label for=\"\">租借規範</label>\n                                        {/* <!-- &#10 換行符號 --> */}\n                                        <textarea id=\"ruleTextarea\">\n                                            {ruleString}\n                                        </textarea>\n                                    </div>\n                                </div>\n                                <div className=\"calendarArea\">\n                                    <div class=\"container-calendar\">\n                                        <div class=\"button-container-calendar\">\n                                            <p id=\"monthHeader\">{monthsArr[currentMonth]}</p>\n                                        </div>\n\n                                        <table class=\"table-calendar\" id=\"calendar\">\n                                            <thead id=\"thead-month\">\n                                                <tr>\n                                                    {daysArr.map((dhead) => (\n                                                        <th data-days={dhead}>{dhead}</th>\n                                                    ))}\n                                                </tr>\n                                            </thead>\n                                            <tbody id=\"calendar-body\">\n                                                {/* {showCalendar(currentMonth, currentYear)} */}\n                                                {rednerCalender(currentMonth)}\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                                <div className=\"calendarArea\">\n                                    <div class=\"container-calendar\">\n                                        <div class=\"button-container-calendar\">\n                                            <p id=\"monthHeader\">{monthsArr[nextMonth]}</p>\n                                        </div>\n\n                                        <table class=\"table-calendar\" id=\"calendar\">\n                                            <thead id=\"thead-month\">\n                                                <tr>\n                                                    {daysArr.map((dhead) => (\n                                                        <th data-days={dhead}>{dhead}</th>\n                                                    ))}\n                                                </tr>\n                                            </thead>\n                                            <tbody id=\"calendar-body\">\n                                                {/* {showCalendar(currentMonth + 1, currentYear)} */}\n                                                {rednerCalender(currentMonth+1)}\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                                <div className=\"btnArea\">\n                                    <Link to={\"/Manage/\" + props.match.params.id}>\n                                        <button className=\"secondary-btn-M\">取消</button>\n                                    </Link>\n                                    <button className=\"primary-btn-M-O\" onClick={submitHandler}>確定</button>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n        </div>\n    );\n}\n\nexport default EditScreen;","import React, { useEffect, useState, useContext } from 'react';\nimport { Link } from \"react-router-dom\";\n\nimport { StateContext, DispatchContext, HeaderContext } from \"../contexts\"\nimport actionType from \"../constants\";\nimport '../css/personal.css'\n\nconst CertificateScreen = (props) => {\n    const [headerContext, setHeaderContext] = useContext(HeaderContext);\n    const { userSignin, borrowInfo, itemsInfo } = useContext(StateContext);\n    const { userInfo } = userSignin;\n    const { items, loading, error } = itemsInfo;\n    const { borrowItems } = borrowInfo;\n    const dispatch = useContext(DispatchContext);\n    useEffect(() => {\n        const changeHeaderTitle = () => {\n            setHeaderContext(\"憑證\")\n        }\n        changeHeaderTitle()\n    });\n\n    const item = borrowItems.find(\n        (x) => x._id === props.match.params.id\n    );\n\n    return (\n        <div className=\"personal-content\">\n            <div className=\"personal-detail\">\n                <div className=\"name\">{userInfo.name}</div>\n                <div className=\"number\">{userInfo.number}</div>\n            </div>\n            <div className=\"line\"></div>\n            <div className=\"personal-borrow-certificate\" key={item._id}>\n                <div className=\"item-photo\">\n                    <img src={\"../\" + item.image} alt=\"\"></img>\n                </div>\n                <div>\n                    <table>\n                        <tr>\n                            <th>物品名稱</th>\n                            <td>{item.name}</td>\n                            <th>狀態</th>\n                            <td> <div className=\"item-status-lable item-status-reserved\">{item.reservedState}</div></td>\n                            <td>{/* 這裡是被拒絕的理由 */}</td>\n                        </tr>\n                        <tr>\n                            <th>借用理由</th>\n                            <td>{item.reservedReason}</td>\n                            <th>聯絡電話</th>\n                            <td>{item.stuPhone}</td>\n                        </tr>\n                        <tr>\n                            <th>借用日期</th>\n                            <td>{item.reservedDate}</td>\n                            <th>E-mail</th>\n                            <td colspan=\"2\">{item.stuEmail}</td>\n                        </tr>\n                        <tr>\n                            <th>拿取時間</th>\n                            <td>{item.getTime}</td>\n                        </tr>\n                        {/* <tr>\n                            <th>歸還日期</th>\n                            <td>－</td>\n                        </tr> */}\n                    </table>\n                </div>\n            </div>\n            <div className=\"btnArea\">\n                <Link to={\"/Personal/\"}>\n                    <button className=\"secondary-btn-M\">返回</button>\n                </Link>\n            </div>\n        </div>\n    );\n}\n\nexport default CertificateScreen;","import React, { useEffect, useState, useContext } from 'react';\nimport { Link } from \"react-router-dom\";\n// import items from '../json/items.json'\nimport axios from \"axios\";\n// import Calendar from \"../components/CalendarDay\"\nimport { StateContext, DispatchContext, HeaderContext } from \"../contexts\"\nimport actionType, { SERVER_URL } from \"../constants\";\nimport '../css/manage.css'\n\n//-------------------------\nconst today = new Date();\nconst monthsArr = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\nconst daysArr = [\"SUN\", \"MON\", \"TUE\", \"WED\", \"THU\", \"FRI\", \"SAT\"];\nconst currentMonth = today.getMonth();\nconst currentYear = today.getFullYear();\nconst currentDate = today.getDate();\nvar nodate;\nvar nextMonth = currentMonth + 1;\nvar cantChooseCantBorrowDate = [];\nvar cantChooseAlreadyBorrowDate = [];\nvar datePushArray = [];\nvar datePushArray1 = [];\nvar item = {};\n\nif (currentMonth == 11) {\n    nextMonth = 0;\n}\n\n//-------------------------\n\nconst ManageScreen = (props) => {\n    const [itemnull, setItemnull] = useState(true);\n    const { itemsInfo } = useContext(StateContext);\n    const { items, loading, error } = itemsInfo;\n    const dispatch = useContext(DispatchContext);\n\n    if (items.length != 0 && items) {\n        item = items.find(\n            (x) => x._id === props.match.params.id\n        );\n    }\n\n    const [headerContext, setHeaderContext] = useContext(HeaderContext);\n    useEffect(() => {\n        const changeHeaderTitle = () => {\n            setHeaderContext(\"管理物品\")\n        }\n        changeHeaderTitle()\n    });\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                dispatch({ type: actionType.ITEM_LIST_REQUEST });\n                const { data } = await axios.get(SERVER_URL + \"/api/items\");\n                dispatch({ type: actionType.ITEM_LIST_SUCCESS, payload: data });\n            } catch (error) {\n                dispatch({\n                    type: actionType.ITEM_LIST_FAIL,\n                    payload: error.message,\n                });\n            }\n        }\n        fetchData();\n    }, []);\n\n    useEffect(() => {\n        if (items.length != 0 && items) {\n            item = items.find(\n                (x) => x._id === props.match.params.id\n            );\n        }\n\n    }, [items]);\n\n    function daysInMonth(month, year) {\n        return 32 - new Date(year, month, 32).getDate();\n    }\n\n    function showDays(month, year, i) {\n        if(itemnull === false){\n        var date = i * 7 - nodate + 1\n        var days = []\n        var firstDay = new Date(year, month).getDay();\n        var daysMonth = daysInMonth(month, year);\n        for (var j = 0; j < 7; j++) {\n            if (i === 0 && j < firstDay) {\n                days.push(\n                    <td></td>\n                )\n                nodate++;\n            } else if (date > daysMonth) {\n                break;\n            } else {\n                function findCantBorrowDate(num) {\n                    for (var v = 0; v < cantChooseCantBorrowDate.length; v++) {\n                        if (num.toString() === cantChooseCantBorrowDate[v]) {\n                            return true;\n                        }\n                    }\n                }\n                function findAlreadyBorrowDate(num) {\n                    for (var v = 0; v < cantChooseAlreadyBorrowDate.length; v++) {\n                        if (num.toString() === cantChooseAlreadyBorrowDate[v]) {\n                            return true;\n                        }\n                    }\n                }\n                if (findCantBorrowDate(date) === true || (month === currentMonth && date < currentDate)) {\n                    days.push(\n                        <td value={date} className=\"date-picker gray-text\">\n                            <span>{date}</span>\n                        </td>\n                    )\n                } else if (findAlreadyBorrowDate(date) === true) {\n                    days.push(\n                        <td value={date} className=\"date-picker selected\">\n                            <span>{date}</span>\n                        </td>\n                    )\n                }\n                else {\n                    days.push(\n                        <td value={date} className=\"date-picker\">\n                            <span>{date}</span>\n                        </td>\n                    )\n                }\n\n                date++\n            }\n        }\n        return (days);\n        }\n        \n    }\n\n    function showCalendar(month, year) {\n        if (itemnull === false) {\n            cantChooseDate(month);\n            var weeks = []\n            nodate = 0\n\n            for (var i = 0; i < 6; i++) {\n                weeks.push(\n                    <tr>\n                        {showDays(month, year, i)}\n                    </tr>\n                )\n            }\n            return (weeks);\n        }\n\n    }\n\n    function cantChooseDate(month) {\n        cantChooseCantBorrowDate = [];\n        cantChooseAlreadyBorrowDate = [];\n        datePushArray = [];\n        datePushArray1 = [];\n        if (itemnull === false) {\n                if (item.cantBorrowDate != null && item.cantBorrowDate.length>=0) {\n                    item.cantBorrowDate.forEach(element => {\n                        var dateArr = element.split(\"-\");\n                        if (dateArr[0] === currentYear.toString() && dateArr[1] === (month + 1).toString()) {\n                            datePushArray.push(dateArr[2]);\n                            cantChooseCantBorrowDate = Array.from(new Set(datePushArray));\n                        }\n                    });\n                }\n                if (item.alreadyBorrowDate != null && item.alreadyBorrowDate.length>=0) {\n                    item.alreadyBorrowDate.forEach(element => {\n                        var dateArr = element.split(\"-\");\n                        if (dateArr[0] === currentYear.toString() && dateArr[1] === (month + 1).toString()) {\n                            datePushArray1.push(dateArr[2]);\n                            cantChooseAlreadyBorrowDate = Array.from(new Set(datePushArray1));\n                            console.log(cantChooseAlreadyBorrowDate);\n                        }\n                    });\n                }\n            }\n    }\n\n    useEffect(() => {\n        cantChooseCantBorrowDate = [];\n        cantChooseAlreadyBorrowDate = [];\n        datePushArray = [];\n        datePushArray1 = [];\n    }, [item]);\n\n    useEffect(() => {\n        if (item != null && item._id != undefined) {\n            setItemnull(false);\n        }\n        else {\n            setItemnull(true);\n        }\n    }, [item]);\n\n    const rednerCalender = (currentMonth) => {\n        if (itemnull === false) {\n            return (\n                showCalendar(currentMonth, currentYear)\n            )\n        }\n        else{\n            <div>loading</div>\n        }\n\n    }\n\n    return (\n        <div>\n            {loading ? (\n                // <LoadingBox></LoadingBox>\n                <div> loading</div >\n            ) : error ? (\n                // <MessageBox variant=\"danger\">{error}</MessageBox>\n                <div>{error}</div>\n            ) : (\n                        <div className=\"manage-content\">\n                            <div className=\"photoArea\">\n                                <div className=\"largePhoto\">\n                                    <img src={\"../\" + item.image} alt=\"\"></img>\n                                </div>\n                                <div className=\"threeSmallPhoto\">\n                                    <div className=\"smallPhoto\">\n                                        <img src={\"../\" + item.image} alt=\"\"></img>\n                                    </div>\n                                    <div className=\"smallPhoto\">\n                                        <img src={\"../\" + item.image} alt=\"\"></img>\n                                    </div>\n                                    <div className=\"smallPhoto\">\n                                        <img src={\"../\" + item.image} alt=\"\"></img>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"detailArea\">\n                                <div className=\"descriptionArea\">\n                                    <div className=\"titleSection\">\n                                        <label className=\"item-name\" for=\"\">{item.name}</label>\n                                        <Link to={\"/BorrowRecord/\"+item._id}>\n                                            <button className=\"primary-btn-M-B\" name={item.name}>租借紀錄</button>\n                                        </Link>\n                                    </div>\n                                    <div className=\"line\"></div>\n                                    <div className=\"rule\">\n                                        <label for=\"\">租借規範</label>\n                                        <p>\n                                        {item.rules.map((rule) => (\n                                            <div>{rule}<br></br></div>\n                                        ))}\n                                        </p>\n                                    </div>\n                                </div>\n                                <div className=\"calendarArea\">\n                                    <div class=\"container-calendar\">\n                                        <div class=\"button-container-calendar\">\n                                            <p id=\"monthHeader\">{monthsArr[currentMonth]}</p>\n                                        </div>\n\n                                        <table class=\"table-calendar\" id=\"calendar\">\n                                            <thead id=\"thead-month\">\n                                                <tr>\n                                                    {daysArr.map((dhead) => (\n                                                        <th data-days={dhead}>{dhead}</th>\n                                                    ))}\n                                                </tr>\n                                            </thead>\n                                            <tbody id=\"calendar-body\">\n                                                {/* {showCalendar(currentMonth, currentYear)} */}\n                                                {rednerCalender(currentMonth)}\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                                <div className=\"calendarArea\">\n                                    <div class=\"container-calendar\">\n                                        <div class=\"button-container-calendar\">\n                                            <p id=\"monthHeader\">{monthsArr[nextMonth]}</p>\n                                        </div>\n\n                                        <table class=\"table-calendar\" id=\"calendar\">\n                                            <thead id=\"thead-month\">\n                                                <tr>\n                                                    {daysArr.map((dhead) => (\n                                                        <th data-days={dhead}>{dhead}</th>\n                                                    ))}\n                                                </tr>\n                                            </thead>\n                                            <tbody id=\"calendar-body\">\n                                                {/* {showCalendar(currentMonth + 1, currentYear)} */}\n                                                {rednerCalender(currentMonth+1)}\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                                <div className=\"btnArea\">\n                                    <Link to={\"/AssistantBorrow\"}><button className=\"secondary-btn-M\">返回</button></Link>\n                                    <Link to={\"/\" + item._id + \"/Edit\"}><button className=\"primary-btn-M-B\">編輯</button></Link>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n        </div>\n    );\n}\n\nexport default ManageScreen;","import React, { useEffect, useState, useContext } from 'react';\nimport { Link } from \"react-router-dom\";\nimport Cookie from \"js-cookies\"\nimport { StateContext, DispatchContext, HeaderContext } from \"../contexts\"\nimport actionType, { SERVER_URL } from \"../constants\";\nimport '../css/login.css'\nimport axios from \"axios\";\nimport users from '../json/user.json'\n\nconst LoginScreen = (props) => {\n    const [number, setNumber] = useState('');\n    const [password, setPassword] = useState('');\n    const dispatch = useContext(DispatchContext);\n    const { userSignin, error } = useContext(StateContext);\n    const { userInfo } = userSignin;\n\n    const submitHandler = (e) => {\n        e.preventDefault();\n        verifyUser(number,password);\n    }\n\n    const getBorrowItems = async (number) => { \n        try {\n            const { data } = await axios.post(SERVER_URL + \"/api/reserved/user\", {\n                number\n            });\n            dispatch({ type: actionType.RESERVED_GET_ITEMS, payload: data });\n            props.history.push(\"/\");\n        } catch (error) {\n            alert(error)\n        }\n    };\n\n    const verifyUser = async (number, password) => { \n        try {\n            const { data } = await axios.post(SERVER_URL + \"/api/users/login\", {\n                number, password\n            });\n            dispatch({ type: actionType.USER_SIGNIN_SUCCESS, payload: data });\n            if(data.identity === \"student\"){\n                getBorrowItems(number);\n            }\n            else{\n                props.history.push(\"/AssistantOverview\");\n            }\n        } catch (error) {\n            if(error.message == \"Request failed with status code 402\"){\n                alert(\"密碼錯誤\");\n            }else if(error.message == \"Request failed with status code 401\"){\n                alert(\"帳號密碼錯誤\");\n            }\n        }\n\n        // const data = users.find(\n        //     (x) => x.number === number \n        // );\n        // if (data){\n        //     if (data.password === password) {\n        //         dispatch({\n        //             type: actionType.USER_SIGNIN_SUCCESS,\n        //             payload: {\n        //                 name: data.name,\n        //                 number: data.number,\n        //                 identity: data.identity,\n        //             }\n        //         });\n        //         if(data.identity === \"student\"){\n        //             props.history.push(\"/\");\n        //         }\n        //         else{\n        //             props.history.push(\"/AssistantOverview\");\n        //         }\n        //     }\n        //     else{\n        //         alert(\"密碼錯誤\");\n        //     }\n        // }\n        // else{\n        //     alert(\"帳號密碼錯誤\");\n        // }\n    };\n\n    const [headerContext, setHeaderContext] = useContext(HeaderContext);\n    useEffect(() => {\n        const changeHeaderTitle = () => {\n            setHeaderContext(\"登入\")\n        }\n        changeHeaderTitle()\n    });\n\n    return (\n        <div class=\"login-content\">\n            <form onSubmit={submitHandler}>\n                <div class=\"login-title\">帳號登入</div>\n                <div class=\"login-box\">\n                    <div class=\"account\">\n                        <div class=\"login-input\">\n                            <label for=\"\">帳號</label>\n                            <input type=\"text\" onChange={(e) => setNumber(e.target.value)}></input>\n                        </div>\n                        <p class=\"description\">學生請輸入學生證，助教請輸入教職員編號</p>\n                    </div>\n                    <div class=\"password\">\n                        <div class=\"login-input\">\n                            <label for=\"\">密碼</label>\n                            <input type=\"password\" onChange={(e) => setPassword(e.target.value)}></input>\n                        </div>\n                        <p class=\"description\">系統預設身分證末四碼</p>\n                    </div>\n                    <button type=\"submit\" class=\"primary-btn-L login-btn\">登入</button>\n                </div>\n            </form>\n\n        </div>\n    );\n}\n\nexport default LoginScreen;","import React, { useEffect, useState, useContext } from 'react';\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { StateContext, DispatchContext, HeaderContext } from \"../contexts\"\nimport actionType, { SERVER_URL } from \"../constants\";\nimport '../css/personal.css'\n\nconst PersonalScreen = (props) => {\n    const { userSignin, borrowInfo, itemsInfo } = useContext(StateContext);\n    const { userInfo } = userSignin;\n    const { items, loading, error } = itemsInfo;\n    const { borrowItems, borrowLoading, borrowError } = borrowInfo;\n    const [headerContext, setHeaderContext] = useContext(HeaderContext);\n    const dispatch = useContext(DispatchContext);\n\n    useEffect(() => {\n        const changeHeaderTitle = () => {\n            setHeaderContext(\"個人資訊\");\n        }\n        changeHeaderTitle()\n    });\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                dispatch({ type: actionType.RESERVED_ITEMS_REQUEST });\n                const { data } = await axios.post(SERVER_URL + \"/api/reserved/user\", {number:userInfo.number});\n                // console.log(data);\n                dispatch({ type: actionType.RESERVED_GET_ITEMS, payload: data });\n            } catch (error) {\n                dispatch({\n                    type: actionType.RESERVED_ITEMS_FAIL,\n                    payload: error.message,\n                });\n            }\n        }\n        fetchData();\n    }, []);\n\n    const logOut = () => {\n        dispatch({\n            type: actionType.USER_LOGOUT,\n        });\n        props.history.push(\"/Login\")\n    }\n\n    const removeBorrow = async (borrowId, name ,alreadyBorrowDate, stuNumber)  => {\n        dispatch({ type: actionType.BORROW_REMOVE_ITEM, payload: borrowId });\n        try {\n            await axios.post(SERVER_URL + \"/api/reserved/remove\", {\n                _id: borrowId\n            });\n            const { data } = await axios.put(SERVER_URL + \"/api/items/findItem\", {\n                name\n            });\n            await axios.put(SERVER_URL + \"/api/items/\" + data._id + \"/removeAlreadyBorrowDate\", {\n                alreadyBorrowDate\n            });\n            removeUserReserved(stuNumber, name, alreadyBorrowDate);\n        } catch (error) {\n            alert(error);\n        }\n    };\n\n    const removeUserReserved = async (number, reservedName ,reservedDate)  => {\n        try {\n            await axios.put(SERVER_URL + \"/api/users/deleteReserved\", {\n                number,\n                reservedName,\n                reservedDate\n            });\n            // dispatch({ type: actionType.USER_UPDATE_RESERVED, payload: data });\n        } catch (error) {\n            alert(error);\n        }\n    };\n\n    // useEffect(() =>{\n    //     console.log(borrowItems);\n    //     console.log(userSignin);\n    // }, [borrowItems])\n\n    const handleToCertificate = (borrowId) => {\n        props.history.push(\"/Certificate/\" + borrowId);\n    };\n\n    return (\n        <div className=\"personal-content\">\n            <div className=\"personal-detail-top\">\n                <div className=\"detail\">\n                    <div className=\"name\">{userInfo.name}</div>\n                    <div className=\"number\">{userInfo.number}</div>\n                </div>\n                <div className=\"logout\">\n                    <button className=\"primary-btn-M-B\" onClick={logOut}>登出</button>\n                </div>\n            </div>\n            <div className=\"line\"></div>\n            <div className=\"personal-borrowRecord-section\">\n                <div className=\"personal-borrowRecord-title\">\n                    <label for=\"\" className=\"name\">物品名稱</label>\n                    <label for=\"\" className=\"item\">物品狀態</label>\n                    <label for=\"\" className=\"item\">租借日期</label>\n                    <label for=\"\" className=\"date\">拿取時間</label>\n                </div>\n                {borrowLoading ? (\n                // <LoadingBox></LoadingBox>\n                <div>loading</div>\n            ) : borrowError ? (\n                // <MessageBox variant=\"danger\">{error}</MessageBox>\n                <div>{borrowError}</div>\n            ) : (\n                <div>\n                {borrowItems.length === 0 ? (\n                    <div className=\"personal-borrowRecord-none\"><i class=\"fa fa-history\" aria-hidden=\"true\"></i><p>尚未借用物品</p></div>\n                ) : (\n                        borrowItems.map((item) => (\n                            <div className=\"personal-borrowRecord\" key={props.match.params.id}>\n                                <div className=\"item-area\">\n                                    <div className=\"item-photo\">\n                                        <img src={\"../\" + item.image} alt=\"IMAGE\"></img>\n                                    </div>\n                                    <p className=\"item-name\">{item.name}</p>\n                                </div>\n                                <div className=\"item-status-lable item-status-reserved\">{item.reservedState}</div>\n                                <div className=\"item-date\">{item.reservedDate}</div>\n                                <div className=\"item-time\">{item.getTime}</div>\n                                {item.reservedState == \"已預約\" ?\n                                <div className=\"btnArea-col\">\n                                    <button className=\"primary-btn-M-O\" onClick={() => handleToCertificate(item._id)}>查看憑證</button>\n                                    <button className=\"secondary-btn-M\" onClick={() => removeBorrow(item._id, item.name, item.reservedDate, item.stuNumber)}>取消預約</button>\n                                </div> : null\n                                }\n                                {item.reservedState == \"已借出\" ?\n                                    <button className=\"primary-btn-M-O\" onClick={() => handleToCertificate(item._id)}>查看憑證</button>\n                                : null\n                                }\n                            </div>\n                        ))\n                    )\n                }\n                </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default PersonalScreen;","import React from 'react'\nimport {Route, Switch} from \"react-router-dom\";\nimport HomeScreen from '../screens/HomeScreen';\nimport AddScreen from '../screens/AddScreen'\nimport AssistantBorrowScreen from '../screens/AssistantBorrowScreen'\nimport AssistantLendedScreen from '../screens/AssistantLendedScreen'\nimport AssistantOverviewScreen from '../screens/AssistantOverviewScreen'\nimport AssistantReservedScreen from '../screens/AssistantReservedScreen'\nimport AssistantTodayScreen from '../screens/AssistantTodayScreen'\nimport BorrowRecordScreen from '../screens/BorrowRecordScreen'\nimport BorrowScreen from '../screens/BorrowScreen'\nimport CertificateScreen from '../screens/CertificateScreen'\nimport EditScreen from '../screens/EditScreen'\nimport LoginScreen from '../screens/LoginScreen'\nimport ManageScreen from '../screens/ManageScreen'\nimport PersonalScreen from '../screens/PersonalScreen'\n\nconst Main = () =>{\n    return (\n        <main class=\"main\">\n            <Switch>\n                <Route path=\"/\" exact={true} component={HomeScreen}/>\n                <Route path=\"/Add\" component={AddScreen}/>\n                <Route path=\"/AssistantBorrow\" component={AssistantBorrowScreen}/>\n                <Route path=\"/AssistantLended\" component={AssistantLendedScreen}/>\n                <Route path=\"/AssistantOverview\" component={AssistantOverviewScreen}/>\n                <Route path=\"/AssistantReserved\" component={AssistantReservedScreen}/>\n                <Route path=\"/AssistantToday\" component={AssistantTodayScreen}/>\n                <Route path=\"/BorrowRecord/:id\" component={BorrowRecordScreen}/>\n                <Route path=\"/Borrow/:id\" component={BorrowScreen}/>\n                <Route path=\"/Certificate/:id?\" component={CertificateScreen}/>\n                <Route path=\"/:id/Edit\" component={EditScreen}/>\n                <Route path=\"/Login\" component={LoginScreen}/>\n                <Route path=\"/Manage/:id\" component={ManageScreen}/>\n                <Route path=\"/Personal\" component={PersonalScreen}/>\n\n            </Switch>\n        </main>\n    );\n}\n\nexport default Main;","import actionType from \"../constants\";\n\nconst initialAppState = {\n  userSignin: {\n    userInfo: {},\n    error: \"\",\n    isLogin: false,\n  },\n  itemsInfo: {\n    items: [],\n    loading: false,\n    error: \"\",\n  },\n  borrowInfo: {\n    borrowItems: [],\n    borrowLoading: false,\n    borrowError: \"\",\n  }\n};\n\nlet borrowItems = {};\nconst appReducer = (state, action) => {\n  switch (action.type) {\n    case actionType.USER_INIT_INFO:\n      return {\n        ...state,\n        userSignin: {\n          ...state.userSignin,\n          userInfo: action.payload,\n        },\n      };\n    case actionType.USER_SIGNIN_SUCCESS:\n      return {\n        ...state,\n        userSignin: {\n          ...state.userSignin,\n          userInfo: action.payload,\n          isLogin: true,\n        },\n      };\n    case actionType.USER_SIGNIN_FAIL:\n      return {\n        ...state,\n        userSignin: {\n          ...state.userSignin,\n          error: action.payload,\n        },\n      };\n    case actionType.USER_LOGOUT:\n      return {\n        ...state,\n        userSignin: {\n          ...state.userSignin,\n          userInfo: {},\n          isLogin: false,\n        },\n      };\n    // case actionType.USER_UPDATE_RESERVED:\n    //   return {\n    //     ...state,\n    //     userSignin: {\n    //       ...state.userSignin,\n    //       userInfo: action.payload,\n    //     },\n    //   };\n\n    case actionType.ITEM_LIST_REQUEST:\n      return {\n        ...state,\n        itemsInfo: { ...state.itemsInfo, loading: true }\n      };\n    case actionType.ITEM_LIST_SUCCESS:\n      return {\n        ...state,\n        itemsInfo: { ...state.itemsInfo, items: action.payload, loading: false },\n      };\n    case actionType.ITEM_LIST_FAIL:\n      return {\n        ...state,\n        itemsInfo: { ...state.itemsInfo, error: action.payload, loading: false },\n      };\n\n    case actionType.ITEM_DETAILS_UPDATE_REQUEST:\n      return {\n        ...state,\n        itemsInfo: { ...state.itemsInfo, loading: true }\n      };\n    case actionType.ITEM_DETAILS_UPDATE_SUCCESS:\n      return {\n        ...state,\n        itemsInfo: { ...state.itemsInfo, loading: false },\n      };\n    case actionType.ITEM_DETAILS_UPDATE_FAIL:\n      return {\n        ...state,\n        itemsInfo: { ...state.itemsInfo, error: action.payload, loading: false },\n      };\n\n    case actionType.RESERVED_ITEMS_REQUEST:\n      return {\n        ...state,\n        borrowInfo: { ...state.borrowInfo, borrowLoading: true }\n      };\n    case actionType.RESERVED_GET_ITEMS:\n      return {\n        ...state,\n        borrowInfo: { ...state.borrowInfo, borrowItems: action.payload, borrowLoading: false }\n      };\n    case actionType.RESERVED_ITEMS_FAIL:\n      return {\n        ...state,\n        borrowInfo: { ...state.borrowInfo, borrowError: action.payload, borrowLoading: false },\n      };\n      \n    // case actionType.RESERVED_ADD_ITEM:\n    //   borrowItems = state.borrowInfo.borrowItems.concat(action.payload);\n    //   return {\n    //     ...state,\n    //     // borrowInfo: { ...state.borrowInfo, borrowItems: [...state.borrowItems, action.payload] }\n    //     borrowInfo: { ...state.borrowInfo, borrowItems}\n    //   };\n    // case actionType.BORROW_ADD_ITEM:\n    //   const borrowItem = action.payload;\n    //   const item = state.borrowItems.find((x) => x._id === borrowItem._id);\n    //   if (item) {\n    //     borrowItems = state.borrowItems.map((x) =>\n    //       x._id === item._id ? borrowItem : x\n    //     );\n    //     return { ...state, borrowItems };\n    //   }\n    //   borrowItems = [...state.borrowItems, borrowItem];\n    //   return { ...state, borrowItems };\n    case actionType.BORROW_REMOVE_ITEM:\n      borrowItems = state.borrowInfo.borrowItems.filter((x) => x._id !== action.payload);\n      return {\n        ...state,\n        borrowInfo: { ...state.borrowInfo, borrowItems }\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport { initialAppState, appReducer };\n","import React, { useReducer, useEffect, useState } from 'react';\nimport { BrowserRouter, Route, Switch, Link } from \"react-router-dom\";\nimport Cookie from \"js-cookies\"\nimport './App.css';\nimport actionType from \"./constants\";\nimport Header from './components/Header'\nimport Main from './components/Main'\n\nimport { StateContext, DispatchContext, HeaderContext } from \"./contexts\"\nimport { initialAppState, appReducer } from \"./reducers/appReducer\"\nimport axios from \"axios\";\nimport './basicSetting.css'\nimport './button.css'\nimport './sidebar.css'\n\nfunction App() {\n    const [state, dispatch] = useReducer(appReducer, initialAppState);\n    const [headerContext , setHeaderContext] = useState(\"借用物品\");\n\n  return (\n    <DispatchContext.Provider value={dispatch}>\n            <StateContext.Provider value={state}>\n                <HeaderContext.Provider value={[headerContext , setHeaderContext]}>\n                  <BrowserRouter>\n                    <div class=\"grid-container\">\n                        <Header />\n                        <Main />\n                        <footer class=\"footer\">All right reserved.</footer>\n                    </div>\n                </BrowserRouter>  \n                </HeaderContext.Provider>\n            </StateContext.Provider>\n        </DispatchContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}